<script>
<!--
document.write(unescape("%3C%21DOCTYPE%20html%3E%0A%3Chtml%20lang%3D%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset%3D%22UTF-8%22%3E%0A%20%20%20%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1.0%22%3E%0A%20%20%20%20%3Ctitle%3EAURA%20X%20AI%20-%20Predictor%20V2%3C/title%3E%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//cdn.tailwindcss.com%22%3E%3C/script%3E%0A%20%20%20%20%3Clink%20href%3D%22https%3A//fonts.googleapis.com/css2%3Ffamily%3DInter%3Awght@300%3B400%3B500%3B600%3B700%26display%3Dswap%22%20rel%3D%22stylesheet%22%3E%0A%20%20%20%20%3Clink%20rel%3D%22stylesheet%22%20href%3D%22https%3A//cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css%22%3E%0A%20%20%20%20%3Cstyle%3E%0A%20%20%20%20%20%20%20%20%3Aroot%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20/*%20Light%20Mode%20Cool%20Palette%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20--primary-bg-light%3A%20%23E0FBFC%3B%20/*%20Very%20light%20cyan%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20--text-primary-light%3A%20%230C1D36%3B%20/*%20Dark%20navy/slate%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20--accent-color-light%3A%20%2338A3A5%3B%20/*%20Teal%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20--accent-hover-light%3A%20%232A7F81%3B%20/*%20Darker%20teal%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20--card-bg-light%3A%20%23FFFFFF%3B%20/*%20White%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20--border-color-light%3A%20%23B0E0E6%3B%20/*%20Powder%20blue%20/%20light%20teal%20border%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20/*%20Dark%20Mode%20Cool%20Palette%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20--primary-bg-dark%3A%20%230B132B%3B%20/*%20Very%20dark%20navy/almost%20black%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20--text-primary-dark%3A%20%23E0FBFC%3B%20/*%20Very%20light%20cyan%20%28for%20text%20contrast%29%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20--accent-color-dark%3A%20%2352DEE5%3B%20/*%20Bright%20cyan/aqua%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20--accent-hover-dark%3A%20%2366FCF1%3B%20/*%20Brighter%20cyan%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20--card-bg-dark%3A%20%231C2541%3B%20/*%20Dark%20desaturated%20navy%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20--border-color-dark%3A%20%233A506B%3B%20/*%20Slate%20blue/grey%20*/%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20--danger-color%3A%20%23ef4444%3B%20/*%20red-500%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20--success-color%3A%20%2310b981%3B%20/*%20emerald-500%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20--warning-color%3A%20%23f59e0b%3B%20/*%20amber-500%20*/%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20/*%20Default%20to%20light%20mode%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20--primary-bg%3A%20var%28--primary-bg-light%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--text-primary%3A%20var%28--text-primary-light%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--accent-color%3A%20var%28--accent-color-light%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--accent-hover%3A%20var%28--accent-hover-light%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--card-bg%3A%20var%28--card-bg-light%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--border-color%3A%20var%28--border-color-light%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20body%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-family%3A%20%27Inter%27%2C%20sans-serif%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20var%28--primary-bg%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var%28--text-primary%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-direction%3A%20column%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20min-height%3A%20100vh%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20background-color%200.3s%2C%20color%200.3s%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.theme-dark%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20--primary-bg%3A%20var%28--primary-bg-dark%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--text-primary%3A%20var%28--text-primary-dark%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--accent-color%3A%20var%28--accent-color-dark%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--accent-hover%3A%20var%28--accent-hover-dark%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--card-bg%3A%20var%28--card-bg-dark%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--border-color%3A%20var%28--border-color-dark%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20/*%20Login%20Page%20Styles%20*/%0A%20%20%20%20%20%20%20%20.auth-screen%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-direction%3A%20column%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20min-height%3A%2095vh%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%201rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20fadeInAuth%200.5s%20ease-out%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20@keyframes%20fadeInAuth%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20from%20%7B%20opacity%3A%200%3B%20transform%3A%20translateY%2820px%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20to%20%7B%20opacity%3A%201%3B%20transform%3A%20translateY%280%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.auth-container%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20var%28--card-bg%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%202rem%202.5rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%2010px%2025px%20rgba%280%2C%200%2C%200%2C%200.1%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20max-width%3A%20420px%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20var%28--border-color%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.auth-title%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%201.8rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20700%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var%28--accent-color%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%200.5rem%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.auth-subtitle%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%200.9rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var%28--text-primary%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200.8%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%201.5rem%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.form-input%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%200.75rem%201rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20var%28--border-color%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%201rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%200.9rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20var%28--primary-bg%29%3B%20/*%20Changed%20to%20primary-bg%20for%20better%20theme%20integration%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var%28--text-primary%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.form-input%3Afocus%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20outline%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-color%3A%20var%28--accent-color%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%200%200%202px%20color-mix%28in%20srgb%2C%20var%28--accent-color%29%2040%25%2C%20transparent%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20.auth-button%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20var%28--accent-color%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var%28--card-bg%29%3B%20/*%20Ensuring%20contrast%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%200.75rem%201.5rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20500%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%200.9rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20background-color%200.2s%20ease%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.auth-button%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20var%28--accent-hover%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.auth-button%3Adisabled%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20%239ca3af%3B%20/*%20gray-400%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20not-allowed%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.device-id-display%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20var%28--primary-bg%29%3B%20/*%20Changed%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20dashed%20var%28--accent-color%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var%28--text-primary%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%201rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%201.5rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20left%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%200.9rem%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.device-id-display%20strong%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20user-select%3A%20all%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20word-break%3A%20break-all%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var%28--accent-color%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.copy-btn-sm%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20none%3B%20border%3A%20none%3B%20color%3A%20var%28--accent-color%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%20font-size%3A%200.9em%3B%20margin-left%3A%200.5rem%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.status-message-container%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-top%3A%201.5rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%200.75rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%200.9rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20min-height%3A%2060px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.status-pending%20%7B%20background-color%3A%20color-mix%28in%20srgb%2C%20var%28--warning-color%29%2080%25%2C%20var%28--card-bg%29%2020%25%29%3B%20color%3A%20color-mix%28in%20srgb%2C%20var%28--warning-color%29%2010%25%2C%20black%29%3B%20border%3A%201px%20solid%20var%28--warning-color%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.theme-dark%20.status-pending%20%7B%20color%3A%20color-mix%28in%20srgb%2C%20var%28--warning-color%29%2010%25%2C%20white%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.status-approved%20%7B%20background-color%3A%20color-mix%28in%20srgb%2C%20var%28--success-color%29%2080%25%2C%20var%28--card-bg%29%2020%25%29%3B%20color%3A%20color-mix%28in%20srgb%2C%20var%28--success-color%29%2010%25%2C%20black%29%3B%20border%3A%201px%20solid%20var%28--success-color%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.theme-dark%20.status-approved%20%7B%20color%3A%20color-mix%28in%20srgb%2C%20var%28--success-color%29%2010%25%2C%20white%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.status-rejected%20%7B%20background-color%3A%20color-mix%28in%20srgb%2C%20var%28--danger-color%29%2080%25%2C%20var%28--card-bg%29%2020%25%29%3B%20color%3A%20color-mix%28in%20srgb%2C%20var%28--danger-color%29%2010%25%2C%20black%29%3B%20border%3A%201px%20solid%20var%28--danger-color%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.theme-dark%20.status-rejected%20%7B%20color%3A%20color-mix%28in%20srgb%2C%20var%28--danger-color%29%2010%25%2C%20white%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.status-info%20%7B%20background-color%3A%20var%28--primary-bg%29%3B%20border%3A%201px%20solid%20var%28--border-color%29%3B%20%7D%0A%0A%0A%20%20%20%20%20%20%20%20.tick-animation%20%7B%20display%3A%20inline-block%3B%20%7D%0A%20%20%20%20%20%20%20%20.tick-animation%20svg%20%7B%20width%3A%2030px%3B%20height%3A%2030px%3B%20%7D%0A%20%20%20%20%20%20%20%20.tick-animation%20.tick-circle%20%7B%20stroke-dasharray%3A%20166%3B%20stroke-dashoffset%3A%20166%3B%20animation%3A%20stroke%200.6s%20cubic-bezier%280.65%2C%200%2C%200.45%2C%201%29%20forwards%3B%20fill%3A%20none%3B%20stroke%3A%20var%28--success-color%29%3B%20stroke-width%3A3%3B%20stroke-linecap%3A%20round%3B%20%7D%0A%20%20%20%20%20%20%20%20.tick-animation%20.tick-path%20%7B%20transform-origin%3A%2050%25%2050%25%3B%20stroke-dasharray%3A%2048%3B%20stroke-dashoffset%3A%2048%3B%20animation%3A%20stroke%200.3s%20cubic-bezier%280.65%2C%200%2C%200.45%2C%201%29%200.4s%20forwards%3B%20fill%3A%20none%3B%20stroke%3A%20var%28--success-color%29%3B%20stroke-width%3A3%3B%20stroke-linecap%3A%20round%3B%20stroke-linejoin%3A%20round%3B%20%7D%0A%20%20%20%20%20%20%20%20@keyframes%20stroke%20%7B%20100%25%20%7B%20stroke-dashoffset%3A%200%3B%20%7D%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20.auth-footer-link%20%7B%20margin-top%3A%201.5rem%3B%20font-size%3A%200.8rem%3B%20color%3A%20var%28--text-primary%29%3B%20opacity%3A0.7%3B%20%7D%0A%20%20%20%20%20%20%20%20.auth-footer-link%20a%20%7B%20color%3A%20var%28--accent-color%29%3B%20text-decoration%3A%20none%3B%20font-weight%3A%20500%3B%20%7D%0A%20%20%20%20%20%20%20%20.auth-footer-link%20a%3Ahover%20%7B%20text-decoration%3A%20underline%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20/*%20Predictor%20App%20Styles%20%28from%20pvt.html%2C%20adapted%20for%20theming%29%20*/%0A%20%20%20%20%20%20%20%20.predictor-app-container%20%7B%20display%3A%20none%3B%20flex-grow%3A%201%3B%20padding-bottom%3A%2070px%3B%20%7D%20/*%20Ensure%20it%27s%20initially%20hidden%20*/%0A%20%20%20%20%20%20%20%20.nav-bar-bottom%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%20bottom%3A%200%3B%20left%3A%200%3B%20right%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20var%28--card-bg%29%3B%20box-shadow%3A%200%20-2px%2010px%20rgba%280%2C0%2C0%2C0.07%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%20justify-content%3A%20space-around%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%200.4rem%200.2rem%3B%20z-index%3A%20100%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-top%3A%201px%20solid%20var%28--border-color%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.nav-button%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-grow%3A%201%3B%20text-align%3A%20center%3B%20padding%3A%200.5rem%200.2rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%200.375rem%3B%20font-weight%3A%20500%3B%20font-size%3A%200.7rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20line-height%3A%201%3B%20transition%3A%20all%200.2s%20ease-in-out%3B%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20transparent%3B%20display%3A%20flex%3B%20flex-direction%3A%20column%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%20color%3A%20var%28--text-primary%29%3B%20opacity%3A%200.7%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.nav-button%20i%20%7B%20font-size%3A%200.9rem%3B%20margin-bottom%3A%200.15rem%3B%20%7D%0A%20%20%20%20%20%20%20%20.nav-button.active%20%7B%20color%3A%20var%28--accent-color%29%3B%20background-color%3A%20var%28--primary-bg%29%3B%20opacity%3A%201%3B%7D%0A%20%20%20%20%20%20%20%20.nav-button%3Anot%28.active%29%3Ahover%20%7B%20background-color%3A%20var%28--primary-bg%29%3B%20color%3A%20var%28--accent-hover%29%3B%20opacity%3A%200.9%3B%7D%0A%0A%20%20%20%20%20%20%20%20.page%20%7B%20display%3A%20none%3B%20%7D%0A%20%20%20%20%20%20%20%20.page.active%20%7B%20display%3A%20block%3B%20animation%3A%20fadeInPage%200.3s%20ease-out%3B%20%7D%0A%20%20%20%20%20%20%20%20@keyframes%20fadeInPage%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20from%20%7B%20opacity%3A%200.8%3B%20transform%3A%20translateY%285px%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20to%20%7B%20opacity%3A%201%3B%20transform%3A%20translateY%280%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.popup%2C%20.modal%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20none%3B%20position%3A%20fixed%3B%20top%3A%2050%25%3B%20left%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translate%28-50%25%2C%20-50%25%29%3B%20background%3A%20var%28--card-bg%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%201.25rem%3B%20border-radius%3A%200.625rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%208px%2020px%20rgba%280%2C0%2C0%2C0.1%29%2C%200%204px%208px%20rgba%280%2C0%2C0%2C0.05%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%201000%3B%20border%3A%201px%20solid%20var%28--border-color%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2090%25%3B%20max-width%3A%20340px%3B%20color%3A%20var%28--text-primary%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.card%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.25s%20ease%3B%20background%3A%20var%28--card-bg%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%200.625rem%3B%20border%3A%201px%20solid%20var%28--border-color%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%201px%203px%20rgba%280%2C0%2C0%2C0.04%29%3B%20color%3A%20var%28--text-primary%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.card%3Ahover%20%7B%20transform%3A%20translateY%28-3px%29%3B%20box-shadow%3A%200%206px%2010px%20rgba%280%2C0%2C0%2C0.05%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20.premium-badge%20%7B%20padding%3A%200.2rem%200.5rem%3B%20border-radius%3A%209999px%3B%20font-size%3A%200.65rem%3B%20font-weight%3A%20600%3B%20text-transform%3A%20uppercase%3B%20letter-spacing%3A%200.04em%3B%20line-height%3A%201%3B%7D%0A%20%20%20%20%20%20%20%20.badge-win%20%7B%20background-color%3A%20color-mix%28in%20srgb%2C%20var%28--success-color%29%2015%25%2C%20var%28--card-bg%29%29%3B%20color%3A%20var%28--success-color%29%3B%20border%3A%201px%20solid%20var%28--success-color%29%3B%7D%20%0A%20%20%20%20%20%20%20%20.badge-loss%20%7B%20background-color%3A%20color-mix%28in%20srgb%2C%20var%28--danger-color%29%2015%25%2C%20var%28--card-bg%29%29%3B%20color%3A%20var%28--danger-color%29%3B%20border%3A%201px%20solid%20var%28--danger-color%29%3B%7D%0A%20%20%20%20%20%20%20%20.badge-pending%20%7B%20background-color%3A%20color-mix%28in%20srgb%2C%20var%28--warning-color%29%2015%25%2C%20var%28--card-bg%29%29%3B%20color%3A%20var%28--warning-color%29%3B%20border%3A%201px%20solid%20var%28--warning-color%29%3B%7D%0A%20%20%20%20%20%20%20%20.badge-skipped%20%7B%20background-color%3A%20color-mix%28in%20srgb%2C%20%239ca3af%2015%25%2C%20var%28--card-bg%29%29%3B%20color%3A%20%234b5563%3B%20border%3A%201px%20solid%20%239ca3af%3B%20%7D%0A%20%20%20%20%20%20%20%20.theme-dark%20.badge-skipped%20%7B%20color%3A%20%23cbd5e1%3B%20%7D%0A%0A%0A%20%20%20%20%20%20%20%20.animated-title-svg%20%7B%20width%3A%20100%25%3B%20max-width%3A%20280px%3B%20height%3A%20auto%3B%20overflow%3A%20visible%3B%20margin%3A%200%20auto%3B%20display%3A%20block%3B%20%7D%0A%20%20%20%20%20%20%20%20.animated-title-svg%20text%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-anchor%3A%20middle%3B%20dominant-baseline%3A%20middle%3B%20text-transform%3A%20uppercase%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20strokeTitle%205s%20infinite%20alternate%3B%20stroke-width%3A%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20stroke%3A%20var%28--accent-color%29%3B%20font-size%3A%2040px%3B%20/*%20Adjusted%20size%20*/%20font-weight%3A%20700%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%20rgba%28255%2C255%2C255%2C0%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20@keyframes%20strokeTitle%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%200%25%20%7B%20fill%3A%20color-mix%28in%20srgb%2C%20var%28--accent-color%29%2010%25%2C%20transparent%29%3B%20stroke%3A%20var%28--accent-color%29%3B%20stroke-dashoffset%3A%2025%25%3B%20stroke-dasharray%3A%200%2050%25%3B%20stroke-width%3A%201.5%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%2070%25%20%7B%20fill%3A%20color-mix%28in%20srgb%2C%20var%28--accent-color%29%2020%25%2C%20transparent%29%3B%20stroke%3A%20var%28--accent-hover%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%2080%25%20%7B%20fill%3A%20color-mix%28in%20srgb%2C%20var%28--accent-color%29%2030%25%2C%20transparent%29%3B%20stroke%3A%20var%28--accent-hover%29%3B%20stroke-width%3A%202%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20100%25%20%7B%20fill%3A%20var%28--accent-color%29%3B%20stroke%3A%20color-mix%28in%20srgb%2C%20var%28--accent-color%29%2050%25%2C%20transparent%29%3B%20stroke-dashoffset%3A%20-25%25%3B%20stroke-dasharray%3A%2050%25%200%3B%20stroke-width%3A%200%3B%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.history-item%20%7B%20transition%3A%20all%200.2s%20ease-in-out%3B%20border-left-width%3A%203px%3B%20%7D%0A%20%20%20%20%20%20%20%20.history-item%3Ahover%20%7B%20background-color%3A%20var%28--primary-bg%29%3B%20transform%3A%20translateX%283px%29%3B%20box-shadow%3A%201px%201px%206px%20rgba%280%2C0%2C0%2C0.03%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.history-item-win%20%7B%20border-color%3A%20var%28--success-color%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.history-item-loss%20%7B%20border-color%3A%20var%28--danger-color%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.history-item-pending%20%7B%20border-color%3A%20var%28--warning-color%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.history-item-skipped%20%7B%20border-color%3A%20%239ca3af%3B%20%7D%20%0A%0A%20%20%20%20%20%20%20%20.delete-btn%20%7B%20color%3A%20%23a1a1aa%3B%20transition%3A%20all%200.15s%20ease%3B%20%7D%0A%20%20%20%20%20%20%20%20.delete-btn%3Ahover%20%7B%20color%3A%20var%28--danger-color%29%3B%20transform%3A%20scale%281.05%29%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20.primary-button%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20var%28--accent-color%29%3B%20color%3A%20var%28--card-bg%29%3B%20padding%3A%200.4rem%200.8rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%200.375rem%3B%20font-weight%3A%20500%3B%20font-size%3A%200.8rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20background-color%200.15s%20ease%2C%20box-shadow%200.15s%20ease%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%201px%202px%200%20rgba%280%2C0%2C0%2C0.05%29%3B%20border%3A%20none%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.primary-button%3Ahover%20%7B%20background-color%3A%20var%28--accent-hover%29%3B%20box-shadow%3A%200%201px%203px%20-1px%20rgba%280%2C0%2C0%2C0.06%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.primary-button%3Adisabled%20%7B%20background-color%3A%20%239ca3af%3B%20cursor%3Anot-allowed%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20.secondary-button%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20var%28--primary-bg%29%3B%20color%3A%20var%28--text-primary%29%3B%20padding%3A%200.4rem%200.8rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%200.375rem%3B%20font-weight%3A%20500%3B%20font-size%3A%200.8rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20background-color%200.15s%20ease%3B%20border%3A%201px%20solid%20var%28--border-color%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.secondary-button%3Ahover%20%7B%20background-color%3A%20color-mix%28in%20srgb%2C%20var%28--primary-bg%29%2090%25%2C%20var%28--text-primary%29%2010%25%29%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20%23apiStatus%20%7B%20font-size%3A%200.75rem%3B%20padding%3A%200.2rem%200.4rem%3B%20border-radius%3A%200.25rem%3B%20transition%3A%20opacity%200.5s%20ease-out%3B%20%7D%0A%20%20%20%20%20%20%20%20%23globalMessageBar%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20none%3B%20background-color%3A%20var%28--accent-color%29%3B%20color%3A%20var%28--card-bg%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B%20padding%3A%200.5rem%201rem%3B%20font-size%3A%200.85rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20sticky%3B%20top%3A%200%3B%20left%3A%200%3B%20width%3A%20100%25%3B%20z-index%3A%201001%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%202px%205px%20rgba%280%2C0%2C0%2C0.1%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%23globalMessageBar%20p%20%7B%20margin%3A%200%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20%23badTrendIndicator%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20sticky%3B%20top%3A%205px%3B%20left%3A%2050%25%3B%20transform%3A%20translateX%28-50%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20var%28--warning-color%29%3B%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%208px%2015px%3B%20border-radius%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%204px%206px%20rgba%280%2C%200%2C%200%2C%200.1%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%201050%3B%20text-align%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20fit-content%3B%20max-width%3A%2090%25%3B%20margin%3A%205px%20auto%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%23badTrendIndicator%20i%20%7B%20margin-right%3A%208px%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20.theme-toggle-button%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20right%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20var%28--card-bg%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var%28--text-primary%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20var%28--border-color%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2040px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2040px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%201002%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%202px%205px%20rgba%280%2C0%2C0%2C0.1%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.main-focus-card%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20linear-gradient%28135deg%2C%20var%28--accent-color%29%2C%20color-mix%28in%20srgb%2C%20var%28--accent-color%29%2070%25%2C%20var%28--accent-hover%29%2030%25%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var%28--card-bg%29%3B%20/*%20Ensure%20text%20is%20light%20on%20dark%20gradient%20*/%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.theme-dark%20.main-focus-card%20%7B%20/*%20Ensure%20dark%20theme%20also%20has%20good%20contrast%20if%20gradient%20is%20light%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var%28--primary-bg-dark%29%3B%20/*%20Or%20a%20very%20light%20color%20if%20accent%20is%20dark%20*/%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.main-focus-card-text-primary%20%7B%20color%3A%20color-mix%28in%20srgb%2C%20var%28--card-bg%29%2085%25%2C%20transparent%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.main-focus-card-text-secondary%20%7B%20color%3A%20color-mix%28in%20srgb%2C%20var%28--card-bg%29%20100%25%2C%20transparent%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.main-focus-card-value-bg%20%7B%20background-color%3A%20rgba%28255%2C255%2C255%2C0.2%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.theme-dark%20.main-focus-card-value-bg%20%7B%20background-color%3A%20rgba%280%2C0%2C0%2C0.2%29%3B%20%7D%0A%0A%20%20%20%20%3C/style%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Cbutton%20id%3D%22themeToggleBtn%22%20class%3D%22theme-toggle-button%22%3E%0A%20%20%20%20%20%20%20%20%3Ci%20class%3D%22fas%20fa-moon%22%3E%3C/i%3E%20%3C/button%3E%0A%0A%20%20%20%20%3Cdiv%20id%3D%22loginPage1%22%20class%3D%22auth-screen%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22auth-container%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Csvg%20class%3D%22animated-title-svg%20mx-auto%20mb-1%22%20viewBox%3D%220%200%20400%20100%22%20style%3D%22max-width%3A%20220px%3B%22%3E%20%3Ctext%20x%3D%2250%25%22%20y%3D%2250%25%22%3EAURA%20X%20AI%3C/text%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/svg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch1%20class%3D%22auth-title%22%3EWelcome%3C/h1%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22auth-subtitle%22%3EPlease%20enter%20your%20Telegram%20Username%20to%20proceed.%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20id%3D%22telegramUsernameInput%22%20class%3D%22form-input%22%20placeholder%3D%22YourTelegramUsername%20%28without%20@%29%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22submitUsernameBtn%22%20class%3D%22auth-button%22%3EContinue%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20id%3D%22usernameError%22%20class%3D%22text-xs%20mt-2%22%20style%3D%22color%3A%20var%28--danger-color%29%3B%20display%3A%20none%3B%22%3EPlease%20enter%20a%20valid%20username.%3C/p%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3Cdiv%20id%3D%22loginPage2%22%20class%3D%22auth-screen%22%20style%3D%22display%3A%20none%3B%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22auth-container%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch1%20class%3D%22auth-title%22%3EDevice%20Verification%3C/h1%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22auth-subtitle%22%3EYour%20unique%20Device%20ID%20is%20shown%20below.%20Share%20it%20with%20the%20admin%20for%20approval.%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22device-id-display%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3EYour%20Device%20ID%3A%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cstrong%20id%3D%22displayedDeviceId%22%3ELoading...%3C/strong%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22copyDeviceIdBtn%22%20class%3D%22copy-btn-sm%22%20title%3D%22Copy%20Device%20ID%22%3E%3Ci%20class%3D%22fas%20fa-copy%22%3E%3C/i%3E%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20id%3D%22copyFeedback%22%20class%3D%22text-xs%20ml-1%22%20style%3D%22color%3A%20var%28--success-color%29%3B%20display%3Anone%3B%22%3ECopied%21%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22approvalStatusContainer%22%20class%3D%22status-message-container%20status-info%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ci%20class%3D%22fas%20fa-spinner%20fa-spin%20mr-2%22%3E%3C/i%3E%20Checking%20status...%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22logoutFromDevicePageBtn%22%20class%3D%22secondary-button%20w-full%20mt-3%20text-sm%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ci%20class%3D%22fas%20fa-sign-out-alt%20mr-2%22%3E%3C/i%3ELogout%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22auth-footer-link%22%3ENeed%20help%3F%20Contact%20%3Ca%20href%3D%22https%3A//t.me/AURAI1%22%20target%3D%22_blank%22%20rel%3D%22noopener%20noreferrer%22%3ESupport%20%28@AURAI1%29%3C/a%3E.%3C/p%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3Cdiv%20id%3D%22predictorAppContainer%22%20class%3D%22predictor-app-container%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22globalMessageBar%22%3E%3Cp%20id%3D%22globalMessageText%22%3E%3C/p%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22badTrendIndicator%22%3E%3Ci%20class%3D%22fas%20fa-exclamation-triangle%22%3E%3C/i%3E%3Cspan%20id%3D%22badTrendText%22%3E%3C/span%3E%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3Cheader%20class%3D%22text-center%20mb-3%20mt-1%20w-full%20max-w-md%20mx-auto%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Csvg%20class%3D%22animated-title-svg%22%20viewBox%3D%220%200%20400%20100%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ctext%20x%3D%2250%25%22%20y%3D%2250%25%22%3EAURA%20X%20AI%3C/text%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/svg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22apiStatusContainer%22%20class%3D%22text-center%20text-xs%20h-6%20flex%20items-center%20justify-center%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20id%3D%22apiStatus%22%20class%3D%22opacity-0%22%20style%3D%22background-color%3A%20var%28--primary-bg%29%3B%20color%3A%20var%28--text-primary%29%3B%22%3EStatus%3A%20Idle%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/header%3E%0A%0A%20%20%20%20%20%20%20%20%3Cmain%20class%3D%22w-full%20max-w-xl%20mx-auto%20mb-3%20px-2%20sm%3Apx-0%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22page-main%22%20class%3D%22page%20active%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22grid%20grid-cols-1%20gap-3%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22card%20p-3%20main-focus-card%20shadow-lg%22%3E%20%3Ch2%20class%3D%22text-md%20font-semibold%20mb-1.5%20main-focus-card-text-primary%22%3EPrediction%20Focus%3C/h2%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22grid%20grid-cols-2%20gap-2.5%20items-center%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20items-center%20space-x-1%20mb-0.5%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ci%20class%3D%22fas%20fa-calendar-alt%20text-sm%20main-focus-card-text-primary%22%3E%3C/i%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch3%20class%3D%22text-xs%20font-medium%20main-focus-card-text-primary%20uppercase%20tracking-wide%22%3EPeriod%3C/h3%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20id%3D%22currentPeriod%22%20class%3D%22text-xl%20font-bold%20main-focus-card-value-bg%20p-2%20rounded-md%20text-center%20main-focus-card-text-secondary%22%3E-%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20items-center%20space-x-1%20mb-0.5%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ci%20class%3D%22fas%20fa-bullseye%20text-sm%20main-focus-card-text-primary%22%3E%3C/i%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch3%20class%3D%22text-xs%20font-medium%20main-focus-card-text-primary%20uppercase%20tracking-wide%22%3ENext%20AI%20Pick%3C/h3%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20id%3D%22currentPrediction%22%20class%3D%22text-xl%20font-bold%20main-focus-card-value-bg%20p-2%20rounded-md%20text-center%20main-focus-card-text-secondary%22%3E-%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mt-2.5%20text-center%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-xs%20main-focus-card-text-primary%20uppercase%20tracking-wide%22%3ELast%20Game%20Result%3A%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20items-center%20justify-center%20space-x-1.5%20mt-0.5%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20id%3D%22currentResult%22%20class%3D%22text-md%20font-semibold%20main-focus-card-text-secondary%22%3E-%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20id%3D%22resultIcon%22%20class%3D%22text-lg%20main-focus-card-text-secondary%22%3E%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mt-1.5%20text-center%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-xs%20main-focus-card-text-primary%20uppercase%20tracking-wide%22%3EActive%20Logic%3A%20%3Cspan%20id%3D%22activeLogicDisplay%22%20class%3D%22font-medium%20capitalize%20main-focus-card-text-secondary%22%3E-%3C/span%3E%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22card%20p-3%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch2%20class%3D%22text-md%20font-semibold%20text-center%20mb-3%20relative%22%20style%3D%22color%3A%20var%28--text-primary%29%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22relative%20z-10%20px-1.5%22%20style%3D%22background-color%3A%20var%28--card-bg%29%3B%22%3EAnalysis%20Dashboard%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22absolute%20top-1/2%20left-0%20w-full%20h-px%20-translate-y-1/2%22%20style%3D%22background-color%3A%20var%28--border-color%29%3B%22%3E%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/h2%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22grid%20grid-cols-2%20sm%3Agrid-cols-3%20gap-2.5%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22p-2.5%20rounded-md%20text-center%20card%22%20style%3D%22background-color%3A%20var%28--primary-bg%29%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-%5B0.65rem%5D%20font-medium%20uppercase%22%20style%3D%22color%3A%20var%28--accent-color%29%3B%22%3EMost%20Freq.%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20id%3D%22mostFrequent%22%20class%3D%22text-lg%20font-bold%22%20style%3D%22color%3A%20var%28--text-primary%29%3B%22%3E-%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22p-2.5%20rounded-md%20text-center%20card%22%20style%3D%22background-color%3A%20var%28--primary-bg%29%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-%5B0.65rem%5D%20font-medium%20uppercase%22%20style%3D%22color%3A%20var%28--accent-color%29%3B%22%3ELeast%20Freq.%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20id%3D%22leastFrequent%22%20class%3D%22text-lg%20font-bold%22%20style%3D%22color%3A%20var%28--text-primary%29%3B%22%3E-%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22p-2.5%20rounded-md%20text-center%20card%22%20style%3D%22background-color%3A%20color-mix%28in%20srgb%2C%20var%28--success-color%29%2010%25%2C%20var%28--card-bg%29%29%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-%5B0.65rem%5D%20font-medium%20uppercase%22%20style%3D%22color%3A%20var%28--success-color%29%3B%22%3EWin%20Rate%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20id%3D%22winRate%22%20class%3D%22text-lg%20font-bold%22%20style%3D%22color%3A%20var%28--success-color%29%3B%22%3E-%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22p-2.5%20rounded-md%20text-center%20card%22%20style%3D%22background-color%3A%20color-mix%28in%20srgb%2C%20var%28--success-color%29%2010%25%2C%20var%28--card-bg%29%29%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-%5B0.65rem%5D%20font-medium%20uppercase%22%20style%3D%22color%3A%20var%28--success-color%29%3B%22%3EWins%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20id%3D%22totalWinBets%22%20class%3D%22text-lg%20font-bold%22%20style%3D%22color%3A%20var%28--success-color%29%3B%22%3E-%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22p-2.5%20rounded-md%20text-center%20card%22%20style%3D%22background-color%3A%20color-mix%28in%20srgb%2C%20var%28--danger-color%29%2010%25%2C%20var%28--card-bg%29%29%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-%5B0.65rem%5D%20font-medium%20uppercase%22%20style%3D%22color%3A%20var%28--danger-color%29%3B%22%3ELosses%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20id%3D%22totalLossBets%22%20class%3D%22text-lg%20font-bold%22%20style%3D%22color%3A%20var%28--danger-color%29%3B%22%3E-%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22p-2.5%20rounded-md%20card%22%20style%3D%22background-color%3A%20var%28--primary-bg%29%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-%5B0.65rem%5D%20font-medium%20uppercase%20text-center%22%20style%3D%22color%3A%20var%28--text-primary%29%3B%20opacity%3A%200.8%3B%22%3EAI%20Win%20Level%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20id%3D%22localWinLevelDisplay%22%20class%3D%22text-lg%20font-bold%20text-center%22%20style%3D%22color%3A%20var%28--text-primary%29%3B%22%3E-%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22page-history%22%20class%3D%22page%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22card%20p-3%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20flex-col%20sm%3Aflex-row%20justify-between%20items-center%20mb-3%20gap-2%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch2%20class%3D%22text-md%20font-semibold%22%20style%3D%22color%3A%20var%28--text-primary%29%3B%22%3EPrediction%20History%3C/h2%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22clearHistoryBtn%22%20class%3D%22primary-button%20w-full%20sm%3Aw-auto%20text-xs%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ci%20class%3D%22fas%20fa-trash-alt%20mr-1%22%3E%3C/i%3EClear%20All%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22historyContainer%22%20class%3D%22space-y-1.5%20max-h-%5B65vh%5D%20sm%3Amax-h-%5B70vh%5D%20overflow-y-auto%20pr-0.5%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-center%20py-5%20text-sm%22%20style%3D%22color%3A%20var%28--text-primary%29%3B%20opacity%3A%200.7%3B%22%3ENo%20history%20yet%2C%20or%20history%20is%20loading...%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22page-about%22%20class%3D%22page%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22card%20p-3%20md%3Ap-5%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch2%20class%3D%22text-lg%20font-bold%20mb-3%20text-center%22%20style%3D%22color%3A%20var%28--accent-color%29%3B%22%3EAbout%20AURA%20X%20AI%3C/h2%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22space-y-2.5%20leading-relaxed%20text-xs%20sm%3Atext-sm%22%20style%3D%22color%3A%20var%28--text-primary%29%3B%20opacity%3A%200.9%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3EWelcome%20to%20AURA%20X%20AI%2C%20your%20advanced%20prediction%20assistant%21%20This%20tool%20analyzes%20patterns%20to%20provide%20insights%20for%20informed%20decisions.%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3E%3Cstrong%3EHow%20it%20Works%3A%3C/strong%3E%20The%20system%20processes%20game%20data%2C%20identifies%20trends%2C%20and%20generates%20predictions%20using%20a%20proprietary%20algorithm.%20The%20Analysis%20Dashboard%20offers%20key%20statistics.%20Our%20system%20now%20includes%20enhanced%20trend%20stability%20analysis%20to%20avoid%20predictions%20during%20highly%20volatile%20periods.%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3E%3Cstrong%3EFeatures%3A%3C/strong%3E%20Real-time%20Predictions%2C%20Detailed%20History%2C%20Statistical%20Analysis%2C%20User-Friendly%20Interface%2C%20Trend%20Stability%20Guard.%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3EThis%20predictor%20learns%20from%20past%20results.%20However%2C%20all%20predictions%20are%20probabilistic%20and%20not%20guaranteed.%20Use%20responsibly.%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3E%3Cstrong%3EDisclaimer%3A%3C/strong%3E%20For%20informational%20and%20entertainment%20purposes%20only.%20Not%20financial%20advice.%20Use%20your%20discretion.%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22mt-5%20text-center%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-sm%20font-semibold%22%20style%3D%22color%3A%20var%28--text-primary%29%3B%22%3ESupport%20%26%20Questions%3F%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ca%20href%3D%22https%3A//t.me/AURAI1%22%20target%3D%22_blank%22%20rel%3D%22noopener%20noreferrer%22%20class%3D%22mt-1%20inline-block%20primary-button%20text-xs%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ci%20class%3D%22fab%20fa-telegram-plane%20mr-1%22%3E%3C/i%3E%20Contact%20@AURAI1%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/a%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22predictorLogoutBtn%22%20class%3D%22secondary-button%20w-full%20mt-6%20text-sm%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ci%20class%3D%22fas%20fa-sign-out-alt%20mr-2%22%3E%3C/i%3ELogout%20from%20Predictor%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/main%3E%0A%0A%20%20%20%20%20%20%20%20%3Cnav%20class%3D%22nav-bar-bottom%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22nav-button%20active%22%20data-page%3D%22main%22%3E%20%3Ci%20class%3D%22fas%20fa-chart-line%22%3E%3C/i%3E%20%3Cspan%3EPredict%3C/span%3E%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22nav-button%22%20data-page%3D%22history%22%3E%20%3Ci%20class%3D%22fas%20fa-history%22%3E%3C/i%3E%20%3Cspan%3EHistory%3C/span%3E%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22nav-button%22%20data-page%3D%22about%22%3E%20%3Ci%20class%3D%22fas%20fa-info-circle%22%3E%3C/i%3E%20%3Cspan%3EAbout%3C/span%3E%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/nav%3E%0A%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22winRatePopup%22%20class%3D%22popup%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text-center%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ci%20class%3D%22fas%20fa-trophy%20text-3xl%20mb-2.5%22%20style%3D%22color%3Avar%28--warning-color%29%3B%22%3E%3C/i%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch2%20class%3D%22text-lg%20font-bold%20mb-1%22%20style%3D%22color%3A%20var%28--text-primary%29%3B%22%3EGreat%20Job%21%3C/h2%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-xs%22%20style%3D%22color%3A%20var%28--text-primary%29%3B%20opacity%3A0.8%3B%22%3E60%25%20win%20rate%20achieved%20after%2015%20bets%21%3Cbr%3EConsider%20taking%20a%20break.%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22closeWinPopupBtn%22%20class%3D%22mt-3%20secondary-button%20w-full%20text-xs%22%3EClose%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22clearHistoryModal%22%20class%3D%22modal%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text-center%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ci%20class%3D%22fas%20fa-exclamation-triangle%20text-3xl%20mb-2.5%22%20style%3D%22color%3Avar%28--warning-color%29%3B%22%3E%3C/i%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch2%20class%3D%22text-lg%20font-bold%20mb-1%22%20style%3D%22color%3A%20var%28--text-primary%29%3B%22%3EConfirm%20Clear%20History%3C/h2%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-xs%20mb-3%22%20style%3D%22color%3A%20var%28--text-primary%29%3B%20opacity%3A0.8%3B%22%3EAre%20you%20sure%3F%20This%20action%20cannot%20be%20undone%20and%20will%20clear%20data%20from%20this%20device%27s%20record.%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex%20justify-center%20space-x-2%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22confirmClear%22%20class%3D%22primary-button%20flex-1%20text-xs%22%20style%3D%22background-color%3Avar%28--danger-color%29%3B%20color%3Awhite%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ci%20class%3D%22fas%20fa-trash-alt%20mr-0.5%22%3E%3C/i%3E%20Yes%2C%20Clear%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22cancelClear%22%20class%3D%22secondary-button%20flex-1%20text-xs%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ci%20class%3D%22fas%20fa-times%20mr-0.5%22%3E%3C/i%3E%20No%2C%20Cancel%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js%22%3E%3C/script%3E%0A%0A%20%20%20%20%3Cscript%3E%0A%20%20%20%20%20%20%20%20//%20---%20Firebase%20Configuration%20---%0A%20%20%20%20%20%20%20%20//%20IMPORTANT%3A%20Replace%20with%20your%20actual%20Firebase%20configuration%0A%20%20%20%20%20%20%20%20const%20firebaseConfig%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20apiKey%3A%20%22AIzaSyDCGgg1TgPjkTNkx5NUSFdDCduRf1uSba4%22%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20authDomain%3A%20%22newrox-ai.firebaseapp.com%22%2C%20//%20Keep%20if%20same%20project%2C%20or%20update%0A%20%20%20%20%20%20%20%20%20%20%20%20databaseURL%3A%20%22https%3A//newrox-ai-default-rtdb.firebaseio.com%22%2C%20//%20Keep%20if%20same%20project%2C%20or%20update%0A%20%20%20%20%20%20%20%20%20%20%20%20projectId%3A%20%22newrox-ai%22%2C%20//%20Keep%20if%20same%20project%2C%20or%20update%0A%20%20%20%20%20%20%20%20%20%20%20%20storageBucket%3A%20%22newrox-ai.appspot.com%22%2C%20//%20Keep%20if%20same%20project%2C%20or%20update%0A%20%20%20%20%20%20%20%20%20%20%20%20messagingSenderId%3A%20%22521506398161%22%2C%20//%20Keep%20if%20same%20project%2C%20or%20update%0A%20%20%20%20%20%20%20%20%20%20%20%20appId%3A%20%221%3A521506398161%3Aweb%3Aca6a684b6616bbb3000af0%22%20//%20Keep%20if%20same%20project%2C%20or%20update%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20firebase.initializeApp%28firebaseConfig%29%3B%0A%20%20%20%20%20%20%20%20const%20db%20%3D%20firebase.database%28%29%3B%0A%0A%20%20%20%20%20%20%20%20//%20---%20DOM%20Elements%20---%0A%20%20%20%20%20%20%20%20const%20themeToggleBtn%20%3D%20document.getElementById%28%27themeToggleBtn%27%29%3B%0A%20%20%20%20%20%20%20%20const%20loginPage1%20%3D%20document.getElementById%28%27loginPage1%27%29%3B%0A%20%20%20%20%20%20%20%20const%20telegramUsernameInput%20%3D%20document.getElementById%28%27telegramUsernameInput%27%29%3B%0A%20%20%20%20%20%20%20%20const%20submitUsernameBtn%20%3D%20document.getElementById%28%27submitUsernameBtn%27%29%3B%0A%20%20%20%20%20%20%20%20const%20usernameError%20%3D%20document.getElementById%28%27usernameError%27%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20const%20loginPage2%20%3D%20document.getElementById%28%27loginPage2%27%29%3B%0A%20%20%20%20%20%20%20%20const%20displayedDeviceId%20%3D%20document.getElementById%28%27displayedDeviceId%27%29%3B%0A%20%20%20%20%20%20%20%20const%20copyDeviceIdBtn%20%3D%20document.getElementById%28%27copyDeviceIdBtn%27%29%3B%0A%20%20%20%20%20%20%20%20const%20copyFeedback%20%3D%20document.getElementById%28%27copyFeedback%27%29%3B%0A%20%20%20%20%20%20%20%20const%20approvalStatusContainer%20%3D%20document.getElementById%28%27approvalStatusContainer%27%29%3B%0A%20%20%20%20%20%20%20%20const%20logoutFromDevicePageBtn%20%3D%20document.getElementById%28%27logoutFromDevicePageBtn%27%29%3B%0A%0A%20%20%20%20%20%20%20%20const%20predictorAppContainer%20%3D%20document.getElementById%28%27predictorAppContainer%27%29%3B%0A%20%20%20%20%20%20%20%20const%20predictorLogoutBtn%20%3D%20document.getElementById%28%27predictorLogoutBtn%27%29%3B%0A%20%20%20%20%20%20%20%20const%20globalMessageBar%20%3D%20document.getElementById%28%27globalMessageBar%27%29%3B%0A%20%20%20%20%20%20%20%20const%20globalMessageText%20%3D%20document.getElementById%28%27globalMessageText%27%29%3B%0A%20%20%20%20%20%20%20%20const%20badTrendIndicator%20%3D%20document.getElementById%28%27badTrendIndicator%27%29%3B%0A%20%20%20%20%20%20%20%20const%20badTrendText%20%3D%20document.getElementById%28%27badTrendText%27%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20//%20---%20Auth%20State%20%26%20Config%20---%0A%20%20%20%20%20%20%20%20const%20USER_DEVICE_ID_STORAGE_KEY%20%3D%20%27userGeneratedDeviceId_AuraXAI_V1%27%3B%20%0A%20%20%20%20%20%20%20%20const%20TELEGRAM_USERNAME_STORAGE_KEY%20%3D%20%27telegramUsername_AuraXAI_V1%27%3B%0A%20%20%20%20%20%20%20%20const%20PREDICTOR_LOGGED_IN_KEY%20%3D%20%27predictorLoggedIn_AuraXAI_V1%27%3B%20//%20Indicates%20successful%20approval%20and%20entry%20to%20app%0A%20%20%20%20%20%20%20%20const%20APP_THEME_STORAGE_KEY%20%3D%20%27appTheme_AuraXAI_V1%27%3B%0A%0A%20%20%20%20%20%20%20%20let%20currentDeviceId%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20let%20approvalCheckInterval%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20const%20APPROVAL_CHECK_INTERVAL_MS%20%3D%205000%3B%20%0A%20%20%20%20%20%20%20%20let%20firebasePredictorDataListener%20%3D%20null%3B%20//%20To%20store%20the%20Firebase%20onValue%20listener%0A%0A%20%20%20%20%20%20%20%20let%20isPredictorServerOn%20%3D%20true%3B%20%0A%20%20%20%20%20%20%20%20let%20currentGlobalMessageId%20%3D%20null%3B%0A%0A%20%20%20%20%20%20%20%20//%20---%20Predictor%20Global%20Variables%20%26%20Configuration%20---%0A%20%20%20%20%20%20%20%20const%20APP_STORAGE_PREFIX%20%3D%20%27aurax_ai_predictor_v1_%27%3B%20//%20For%20any%20non-synced%20local%20storage%0A%20%20%20%20%20%20%20%20const%20PREDICTOR_DATA_FIREBASE_PATH%20%3D%20%27aura_x_ai_predictor_data/%27%3B%20//%20Firebase%20path%20for%20synced%20data%0A%0A%20%20%20%20%20%20%20%20//%20These%20will%20be%20primarily%20loaded%20from%20Firebase%2C%20localStorage%20is%20a%20fallback%20if%20needed%20or%20for%20non-synced%20items%0A%20%20%20%20%20%20%20%20let%20allHistory%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20let%20currentAIPrediction%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20let%20localWinLevel%20%3D%200%3B%0A%20%20%20%20%20%20%20%20let%20lastAPIFetchedPeriodFull%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20let%20moduleEffectiveness%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20Trend%3A%20%7B%20wins%3A%200%2C%20losses%3A%200%2C%20weightMultiplier%3A%201.0%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20Dominance%3A%20%7B%20wins%3A%200%2C%20losses%3A%200%2C%20weightMultiplier%3A%201.0%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20Recency%3A%20%7B%20wins%3A%200%2C%20losses%3A%200%2C%20weightMultiplier%3A%201.0%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20CP%3A%20%7B%20wins%3A%200%2C%20losses%3A%200%2C%20weightMultiplier%3A%201.0%20%7D%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20Rhythm%3A%20%7B%20wins%3A%200%2C%20losses%3A%200%2C%20weightMultiplier%3A%201.0%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20const%20EFFECTIVENESS_MEMORY%20%3D%2015%3B%20%0A%20%20%20%20%20%20%20%20const%20MAX_HISTORY_ITEMS_DISPLAY%20%3D%2050%3B%20%0A%20%20%20%20%20%20%20%20const%20MAX_HISTORY_ITEMS_STORAGE%20%3D%20100%3B%20//%20Max%20items%20to%20keep%20in%20%60allHistory%60%20%28synced%20to%20Firebase%29%0A%20%20%20%20%20%20%20%20const%20API_FETCH_INTERVAL%20%3D%207000%3B%20%0A%20%20%20%20%20%20%20%20const%20MAX_WIN_LEVEL_STREAK%20%3D%202%3B%20%0A%20%20%20%20%20%20%20%20let%20isUpdatingData%20%3D%20false%3B%20%0A%20%20%20%20%20%20%20%20let%20apiStatusTimeoutId%20%3D%20null%3B%0A%0A%20%20%20%20%20%20%20%20//%20---%20Predictor%20DOM%20Element%20References%20---%0A%20%20%20%20%20%20%20%20const%20pageButtons%20%3D%20document.querySelectorAll%28%27.nav-button%27%29%3B%0A%20%20%20%20%20%20%20%20const%20pages%20%3D%20document.querySelectorAll%28%27.page%27%29%3B%0A%20%20%20%20%20%20%20%20const%20currentPeriodEl%20%3D%20document.getElementById%28%27currentPeriod%27%29%3B%0A%20%20%20%20%20%20%20%20const%20currentResultEl%20%3D%20document.getElementById%28%27currentResult%27%29%3B%0A%20%20%20%20%20%20%20%20const%20currentPredictionEl%20%3D%20document.getElementById%28%27currentPrediction%27%29%3B%0A%20%20%20%20%20%20%20%20const%20resultIconEl%20%3D%20document.getElementById%28%27resultIcon%27%29%3B%0A%20%20%20%20%20%20%20%20const%20activeLogicDisplayEl%20%3D%20document.getElementById%28%27activeLogicDisplay%27%29%3B%0A%20%20%20%20%20%20%20%20const%20mostFrequentEl%20%3D%20document.getElementById%28%27mostFrequent%27%29%3B%0A%20%20%20%20%20%20%20%20const%20leastFrequentEl%20%3D%20document.getElementById%28%27leastFrequent%27%29%3B%0A%20%20%20%20%20%20%20%20const%20winRateEl%20%3D%20document.getElementById%28%27winRate%27%29%3B%0A%20%20%20%20%20%20%20%20const%20totalWinBetsEl%20%3D%20document.getElementById%28%27totalWinBets%27%29%3B%0A%20%20%20%20%20%20%20%20const%20totalLossBetsEl%20%3D%20document.getElementById%28%27totalLossBets%27%29%3B%0A%20%20%20%20%20%20%20%20const%20localWinLevelDisplayEl%20%3D%20document.getElementById%28%27localWinLevelDisplay%27%29%3B%0A%20%20%20%20%20%20%20%20const%20historyContainerEl%20%3D%20document.getElementById%28%27historyContainer%27%29%3B%0A%20%20%20%20%20%20%20%20const%20clearHistoryBtn%20%3D%20document.getElementById%28%27clearHistoryBtn%27%29%3B%0A%20%20%20%20%20%20%20%20const%20winRatePopup%20%3D%20document.getElementById%28%27winRatePopup%27%29%3B%0A%20%20%20%20%20%20%20%20const%20closeWinPopupBtn%20%3D%20document.getElementById%28%27closeWinPopupBtn%27%29%3B%0A%20%20%20%20%20%20%20%20const%20clearHistoryModal%20%3D%20document.getElementById%28%27clearHistoryModal%27%29%3B%0A%20%20%20%20%20%20%20%20const%20confirmClearBtn%20%3D%20document.getElementById%28%27confirmClear%27%29%3B%0A%20%20%20%20%20%20%20%20const%20cancelClearBtn%20%3D%20document.getElementById%28%27cancelClear%27%29%3B%0A%20%20%20%20%20%20%20%20const%20apiStatusEl%20%3D%20document.getElementById%28%27apiStatus%27%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20const%20DEFAULT_PREDICTION_ITEM_STRUCTURE%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20null%2C%20period%3A%20null%2C%20fullPeriod%3A%20null%2C%20predictionTime%3A%20null%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20prediction%3A%20null%2C%20predictionType%3A%20%22BIG/SMALL%22%2C%20oppositeNumber%3A%20null%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20confidence%3A%200%2C%20logic%3A%20%22N/A%22%2C%20result%3A%20null%2C%20resultType%3A%20null%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20resultColor%3A%20null%2C%20status%3A%20%22Pending%22%2C%20skipReason%3A%20null%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20//%20---%20Theme%20Toggler%20---%0A%20%20%20%20%20%20%20%20function%20applyTheme%28theme%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28theme%20%3D%3D%3D%20%27dark%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.body.classList.add%28%27theme-dark%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20themeToggleBtn.innerHTML%20%3D%20%27%3Ci%20class%3D%22fas%20fa-sun%22%3E%3C/i%3E%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.body.classList.remove%28%27theme-dark%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20themeToggleBtn.innerHTML%20%3D%20%27%3Ci%20class%3D%22fas%20fa-moon%22%3E%3C/i%3E%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20localStorage.setItem%28APP_THEME_STORAGE_KEY%2C%20theme%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20themeToggleBtn.addEventListener%28%27click%27%2C%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20currentTheme%20%3D%20document.body.classList.contains%28%27theme-dark%27%29%20%3F%20%27dark%27%20%3A%20%27light%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20applyTheme%28currentTheme%20%3D%3D%3D%20%27dark%27%20%3F%20%27light%27%20%3A%20%27dark%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20//%20---%20Device%20ID%20Generation%20---%0A%20%20%20%20%20%20%20%20function%20generateUniqueId%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%28%5B1e7%5D+-1e3+-4e3+-8e3+-1e11%29.replace%28/%5B018%5D/g%2C%20c%20%3D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28c%20%5E%20crypto.getRandomValues%28new%20Uint8Array%281%29%29%5B0%5D%20%26%2015%20%3E%3E%20c%20/%204%29.toString%2816%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20getOrGenerateUserDeviceId%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20deviceId%20%3D%20localStorage.getItem%28USER_DEVICE_ID_STORAGE_KEY%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21deviceId%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20deviceId%20%3D%20%22AURAX-V2-%22%20+%20generateUniqueId%28%29.substring%280%2C12%29.toUpperCase%28%29%3B%20//%20Changed%20prefix%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localStorage.setItem%28USER_DEVICE_ID_STORAGE_KEY%2C%20deviceId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20currentDeviceId%20%3D%20deviceId%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28displayedDeviceId%29%20displayedDeviceId.textContent%20%3D%20deviceId%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20deviceId%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20function%20copyCurrentDeviceId%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20deviceIdToCopy%20%3D%20displayedDeviceId.textContent%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28navigator.clipboard%20%26%26%20navigator.clipboard.writeText%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20navigator.clipboard.writeText%28deviceIdToCopy%29.then%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20copyFeedback.textContent%20%3D%20%27Copied%21%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20copyFeedback.style.display%20%3D%20%27inline%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%20copyFeedback.style.display%20%3D%20%27none%27%3B%20%7D%2C%202000%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29.catch%28err%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error%28%27Failed%20to%20copy%20device%20ID%3A%27%2C%20err%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Fallback%20for%20browsers%20that%20might%20restrict%20clipboard%20in%20iframes%20or%20secure%20contexts%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20manualCopy%28deviceIdToCopy%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20manualCopy%28deviceIdToCopy%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20manualCopy%28textToCopy%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20textArea%20%3D%20document.createElement%28%22textarea%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20textArea.value%20%3D%20textToCopy%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20textArea.style.position%20%3D%20%22fixed%22%3B%20//%20Prevent%20scrolling%20to%20bottom%0A%20%20%20%20%20%20%20%20%20%20%20%20textArea.style.left%20%3D%20%22-9999px%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.body.appendChild%28textArea%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20textArea.focus%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20textArea.select%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.execCommand%28%27copy%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20copyFeedback.textContent%20%3D%20%27Copied%21%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20copyFeedback.style.display%20%3D%20%27inline%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%20copyFeedback.style.display%20%3D%20%27none%27%3B%20%7D%2C%202000%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28err%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error%28%27Fallback%20copy%20failed%3A%27%2C%20err%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Could%20show%20a%20small%20modal%20here%20instead%20of%20alert%20if%20desired%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20For%20now%2C%20keeping%20it%20simple%2C%20but%20alert%28%29%20is%20generally%20discouraged.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20A%20small%2C%20non-blocking%20message%20near%20the%20copy%20button%20would%20be%20better.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20copyFeedback.textContent%20%3D%20%27Copy%20failed.%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20copyFeedback.style.color%20%3D%20%27var%28--danger-color%29%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20copyFeedback.style.display%20%3D%20%27inline%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%20copyFeedback.style.display%20%3D%20%27none%27%3B%20copyFeedback.style.color%20%3D%20%27var%28--success-color%29%27%3B%20%7D%2C%203000%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20document.body.removeChild%28textArea%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%0A%20%20%20%20%20%20%20%20//%20---%20Navigation%20and%20UI%20State%20Management%20---%0A%20%20%20%20%20%20%20%20function%20showScreen%28screenId%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20loginPage1.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20loginPage2.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20predictorAppContainer.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20screenElement%20%3D%20document.getElementById%28screenId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28screenElement%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20screenElement.style.display%20%3D%20screenId%20%3D%3D%3D%20%27predictorAppContainer%27%20%3F%20%27block%27%20%3A%20%27flex%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error%28%22Screen%20not%20found%3A%22%2C%20screenId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20loginPage1.style.display%20%3D%20%27flex%27%3B%20//%20Default%20to%20login%20page%201%20if%20error%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20function%20updateApprovalStatusUI%28status%2C%20message%20%3D%20%27%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20approvalStatusContainer.classList.remove%28%27status-pending%27%2C%20%27status-approved%27%2C%20%27status-rejected%27%2C%20%27status-info%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20iconHtml%20%3D%20%27%3Ci%20class%3D%22fas%20fa-spinner%20fa-spin%20mr-2%22%3E%3C/i%3E%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20fullMessage%20%3D%20message%20%7C%7C%20%27Checking%20status...%27%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20switch%28status%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%27pending%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20approvalStatusContainer.classList.add%28%27status-pending%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20iconHtml%20%3D%20%27%3Ci%20class%3D%22fas%20fa-hourglass-half%20mr-2%22%3E%3C/i%3E%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fullMessage%20%3D%20message%20%7C%7C%20%27Waiting%20for%20admin%20approval.%20Please%20share%20your%20Device%20ID%20with%20the%20admin.%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%27approved%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20approvalStatusContainer.classList.add%28%27status-approved%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20iconHtml%20%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22tick-animation%20mr-2%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Csvg%20viewBox%3D%220%200%2052%2052%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ccircle%20class%3D%22tick-circle%22%20cx%3D%2226%22%20cy%3D%2226%22%20r%3D%2225%22/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22tick-path%22%20d%3D%22M14.1%2027.2l7.1%207.2%2016.7-16.8%22/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/svg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/span%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fullMessage%20%3D%20message%20%7C%7C%20%27Access%20Approved%21%20Redirecting%20to%20predictor...%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%27rejected%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20approvalStatusContainer.classList.add%28%27status-rejected%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20iconHtml%20%3D%20%27%3Ci%20class%3D%22fas%20fa-times-circle%20mr-2%22%3E%3C/i%3E%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fullMessage%20%3D%20message%20%7C%7C%20%27Access%20Denied.%20Please%20contact%20admin%20for%20assistance.%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20//%20info%20or%20loading%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20approvalStatusContainer.classList.add%28%27status-info%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20approvalStatusContainer.innerHTML%20%3D%20%60%24%7BiconHtml%7D%20%24%7BfullMessage%7D%60%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20//%20---%20Login%20and%20Approval%20Flow%20---%0A%20%20%20%20%20%20%20%20async%20function%20handleSubmitUsername%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20username%20%3D%20telegramUsernameInput.value.trim%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21username%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20usernameError.textContent%20%3D%20%27Telegram%20Username%20cannot%20be%20empty.%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20usernameError.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20usernameError.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20submitUsernameBtn.disabled%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20submitUsernameBtn.innerHTML%20%3D%20%27%3Ci%20class%3D%22fas%20fa-spinner%20fa-spin%20mr-2%22%3E%3C/i%3EProcessing...%27%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20currentDeviceId%20should%20already%20be%20set%20by%20getOrGenerateUserDeviceId%28%29%0A%20%20%20%20%20%20%20%20%20%20%20%20localStorage.setItem%28TELEGRAM_USERNAME_STORAGE_KEY%2C%20username%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Store/update%20user%20request%20in%20Firebase%2C%20status%20defaults%20to%20%27pending%27%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Admin%20will%20change%20this%20status%20in%20Firebase%20to%20%27approved%27%20or%20%27rejected%27%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20requestRef%20%3D%20db.ref%28%60user_access_requests/%24%7BcurrentDeviceId%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20snapshot%20%3D%20await%20requestRef.get%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20currentStatus%20%3D%20%27pending%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28snapshot.exists%28%29%20%26%26%20snapshot.val%28%29.status%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentStatus%20%3D%20snapshot.val%28%29.status%3B%20//%20Preserve%20existing%20status%20if%20any%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20requestRef.set%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20telegramUsername%3A%20username%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20status%3A%20currentStatus%2C%20//%20If%20admin%20approved%20then%20rejected%2C%20it%20might%20stay%20rejected%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20requestedAt%3A%20firebase.database.ServerValue.TIMESTAMP%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20deviceId%3A%20currentDeviceId%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%60Device%20ID%20%24%7BcurrentDeviceId%7D%20with%20username%20%24%7Busername%7D%20registered/updated.%20Current%20status%3A%20%24%7BcurrentStatus%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showScreen%28%27loginPage2%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateApprovalStatusUI%28currentStatus%29%3B%20//%20Show%20current%20status%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28currentStatus%20%21%3D%3D%20%27approved%27%29%20%7B%20//%20Only%20start%20polling%20if%20not%20already%20approved%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20startApprovalCheck%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%20//%20If%20somehow%20it%20was%20already%20approved%20%28e.g.%20admin%20was%20super%20fast%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20handleSuccessfulApproval%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error%28%22Error%20submitting%20username%3A%22%2C%20error%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20usernameError.textContent%20%3D%20%27Failed%20to%20submit.%20Please%20try%20again.%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20usernameError.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20finally%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20submitUsernameBtn.disabled%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20submitUsernameBtn.innerHTML%20%3D%20%27Continue%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20function%20handleSuccessfulApproval%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20localStorage.setItem%28PREDICTOR_LOGGED_IN_KEY%2C%20%27true%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20updateApprovalStatusUI%28%27approved%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showScreen%28%27predictorAppContainer%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20initializePredictorApp%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%201500%29%3B%20//%20Shorter%20delay%0A%20%20%20%20%20%20%20%20%7D%0A%0A%0A%20%20%20%20%20%20%20%20function%20startApprovalCheck%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28approvalCheckInterval%29%20clearInterval%28approvalCheckInterval%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20check%20%3D%20async%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21currentDeviceId%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20snapshot%20%3D%20await%20db.ref%28%60user_access_requests/%24%7BcurrentDeviceId%7D/status%60%29.once%28%27value%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20status%20%3D%20snapshot.val%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28status%20%3D%3D%3D%20%27approved%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clearInterval%28approvalCheckInterval%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20approvalCheckInterval%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20handleSuccessfulApproval%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28status%20%3D%3D%3D%20%27rejected%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateApprovalStatusUI%28%27rejected%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20clearInterval%28approvalCheckInterval%29%3B%20approvalCheckInterval%20%3D%20null%3B%20//%20Optional%3A%20stop%20polling%20on%20rejection%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28status%20%3D%3D%3D%20%27pending%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateApprovalStatusUI%28%27pending%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateApprovalStatusUI%28%27info%27%2C%20%27Awaiting%20registration%20or%20admin%20action.%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error%28%22Error%20checking%20approval%20status%3A%22%2C%20error%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateApprovalStatusUI%28%27info%27%2C%20%27Error%20checking%20status.%20Retrying...%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20check%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20approvalCheckInterval%20%3D%20setInterval%28check%2C%20APPROVAL_CHECK_INTERVAL_MS%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20function%20handleLogout%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20localStorage.removeItem%28PREDICTOR_LOGGED_IN_KEY%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20localStorage.removeItem%28TELEGRAM_USERNAME_STORAGE_KEY%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20USER_DEVICE_ID_STORAGE_KEY%20is%20kept%20so%20user%20has%20same%20ID%20if%20they%20log%20back%20in%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28approvalCheckInterval%29%20clearInterval%28approvalCheckInterval%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20approvalCheckInterval%20%3D%20null%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Detach%20Firebase%20listener%20for%20predictor%20data%20if%20it%20exists%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28firebasePredictorDataListener%20%26%26%20currentDeviceId%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20db.ref%28PREDICTOR_DATA_FIREBASE_PATH%20+%20currentDeviceId%29.off%28%27value%27%2C%20firebasePredictorDataListener%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20firebasePredictorDataListener%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22Detached%20Firebase%20predictor%20data%20listener%20for%22%2C%20currentDeviceId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20telegramUsernameInput.value%20%3D%20%27%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20showScreen%28%27loginPage1%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22User%20logged%20out.%22%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20//%20---%20Predictor%20Server%20Status%20%26%20Global%20Message%20---%0A%20%20%20%20%20%20%20%20async%20function%20fetchPredictorServerStatus%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20serverStatusRef%20%3D%20db.ref%28%22predictorServerStatus%22%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20snapshot%20%3D%20await%20serverStatusRef.get%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20serverData%20%3D%20snapshot.val%28%29%20%7C%7C%20%7B%20status%3A%20%22on%22%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isPredictorServerOn%20%3D%20serverData.status%20%3D%3D%3D%20%22on%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22Initial%20Predictor%20Server%20Status%3A%22%2C%20isPredictorServerOn%20%3F%20%22ON%22%20%3A%20%22OFF%22%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20serverStatusRef.on%28%22value%22%2C%20snapshot%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20updatedServerData%20%3D%20snapshot.val%28%29%20%7C%7C%20%7B%20status%3A%20%22on%22%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20serverBecameOffline%20%3D%20isPredictorServerOn%20%26%26%20updatedServerData.status%20%3D%3D%3D%20%22off%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isPredictorServerOn%20%3D%20updatedServerData.status%20%3D%3D%3D%20%22on%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22Predictor%20Server%20Status%20Changed%20To%3A%22%2C%20isPredictorServerOn%20%3F%20%22ON%22%20%3A%20%22OFF%22%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20isLoggedInToPredictor%20%3D%20localStorage.getItem%28PREDICTOR_LOGGED_IN_KEY%29%20%3D%3D%3D%20%27true%27%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28serverBecameOffline%20%26%26%20isLoggedInToPredictor%20%26%26%20predictorAppContainer.style.display%20%3D%3D%3D%20%27block%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Using%20a%20custom%20modal/message%20bar%20would%20be%20better%20than%20alert%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20For%20now%2C%20console%20log%20and%20potentially%20show%20a%20global%20message%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.warn%28%22The%20predictor%20has%20been%20turned%20off%20by%20the%20administrator.%20You%20will%20be%20logged%20out.%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showGlobalMessage%28%22Predictor%20is%20now%20offline.%20You%20have%20been%20logged%20out.%22%2C%20true%2C%205000%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28handleLogout%2C%205000%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error%28%22Error%20fetching%20initial%20predictor%20server%20status%3A%22%2C%20error%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isPredictorServerOn%20%3D%20false%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20function%20showGlobalMessage%28message%2C%20isError%20%3D%20false%2C%20duration%20%3D%203000%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28globalMessageText%20%26%26%20globalMessageBar%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20globalMessageText.textContent%20%3D%20message%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20globalMessageBar.style.backgroundColor%20%3D%20isError%20%3F%20%27var%28--danger-color%29%27%20%3A%20%27var%28--accent-color%29%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20globalMessageBar.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20globalMessageBar.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20duration%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%0A%20%20%20%20%20%20%20%20function%20fetchGlobalMessage%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20messageRef%20%3D%20db.ref%28%22predictorGlobalMessage%22%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20messageRef.on%28%22value%22%2C%20snapshot%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20messageData%20%3D%20snapshot.val%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28messageData%20%26%26%20messageData.message%20%26%26%20messageData.id%20%21%3D%3D%20currentGlobalMessageId%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showGlobalMessage%28messageData.message%2C%20false%2C%2010000%29%3B%20//%20Show%20for%2010s%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentGlobalMessageId%20%3D%20messageData.id%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28%21messageData%20%7C%7C%20%21messageData.message%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20globalMessageBar.style.display%20%3D%20%27none%27%3B%20//%20Handled%20by%20showGlobalMessage%20timeout%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentGlobalMessageId%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20error%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error%28%22Error%20fetching%20global%20message%3A%22%2C%20error%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20globalMessageBar.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20//%20---%20Trend%20Stability%20Analysis%20---%0A%20%20%20%20%20%20%20%20function%20analyzeTrendStability%28history%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20confirmedHistory%20%3D%20history.filter%28p%20%3D%3E%20p.status%20%3D%3D%3D%20%22WIN%22%20%7C%7C%20p.status%20%3D%3D%3D%20%22LOSS%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28confirmedHistory.length%20%3C%2010%29%20return%20%7B%20isStable%3A%20true%2C%20reason%3A%20%22Not%20enough%20data%20for%20stability%20check.%22%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20recent10%20%3D%20confirmedHistory.slice%280%2C%2010%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20recentWins%20%3D%20recent10.filter%28p%20%3D%3E%20p.status%20%3D%3D%3D%20%22WIN%22%29.length%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20recentWinRate%20%3D%20recent10.length%20%3E%200%20%3F%20recentWins%20/%20recent10.length%20%3A%200.5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28recentWinRate%20%3C%200.3%20%7C%7C%20recentWinRate%20%3E%200.7%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%20isStable%3A%20false%2C%20reason%3A%20%60Unstable%20win%20rate%3A%20%24%7B%28recentWinRate%20*%20100%29.toFixed%280%29%7D%25%60%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20recent15%20%3D%20confirmedHistory.slice%280%2C%2015%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20currentStreakType%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20currentStreakLength%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20maxStreakLength%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28const%20entry%20of%20recent15%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28entry.status%20%3D%3D%3D%20currentStreakType%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentStreakLength++%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentStreakType%20%3D%20entry.status%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentStreakLength%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28currentStreakLength%20%3E%20maxStreakLength%29%20maxStreakLength%20%3D%20currentStreakLength%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28maxStreakLength%20%3E%3D%204%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%20isStable%3A%20false%2C%20reason%3A%20%60Long%20streak%20detected%3A%20%24%7BmaxStreakLength%7D%20%24%7BcurrentStreakType%7Ds%60%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20recent10AI%20%3D%20history.filter%28p%20%3D%3E%20p.prediction%20%26%26%20%28p.status%20%3D%3D%3D%20%22WIN%22%20%7C%7C%20p.status%20%3D%3D%3D%20%22LOSS%22%29%29.slice%280%2C10%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20lowConfidenceCount%20%3D%20recent10AI.filter%28p%20%3D%3E%20p.confidence%20%3C%200.50%29.length%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28lowConfidenceCount%20%3E%3D%205%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%20isStable%3A%20false%2C%20reason%3A%20%60%24%7BlowConfidenceCount%7D/10%20recent%20predictions%20had%20low%20confidence.%60%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20last5ActualsBS%20%3D%20confirmedHistory.slice%280%2C%205%29.map%28p%20%3D%3E%20p.resultType%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28last5ActualsBS.length%20%3D%3D%3D%205%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20allSame%20%3D%20last5ActualsBS.every%28bs%20%3D%3E%20bs%20%3D%3D%3D%20last5ActualsBS%5B0%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20alternating%20%3D%20last5ActualsBS.every%28%28val%2C%20i%2C%20arr%29%20%3D%3E%20i%20%3D%3D%3D%200%20%7C%7C%20val%20%21%3D%3D%20arr%5Bi-1%5D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28allSame%29%20return%20%7B%20isStable%3A%20false%2C%20reason%3A%20%22Last%205%20results%20were%20identical%20%28B/S%29.%22%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28alternating%29%20return%20%7B%20isStable%3A%20false%2C%20reason%3A%20%22Last%205%20results%20were%20perfectly%20alternating%20%28B/S%29.%22%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%20isStable%3A%20true%2C%20reason%3A%20%22Trend%20appears%20stable.%22%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20//%20---%20Predictor%20Core%20Logic%20%28Adapted%29%20---%0A%20%20%20%20%20%20%20%20function%20switchPage%28pageId%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20pages.forEach%28page%20%3D%3E%20page.classList.remove%28%27active%27%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20targetPage%20%3D%20document.getElementById%28%60page-%24%7BpageId%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28targetPage%29%20targetPage.classList.add%28%27active%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20document.getElementById%28%27page-main%27%29.classList.add%28%27active%27%29%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20pageButtons.forEach%28button%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20button.classList.remove%28%27active%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28button.dataset.page%20%3D%3D%3D%20pageId%29%20button.classList.add%28%27active%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20localStorage.setItem%28APP_STORAGE_PREFIX%20+%20%27active_tab%27%2C%20pageId%29%3B%20//%20Non-synced%20preference%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20async%20function%20fetchGameResultFromAPI%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20updateAPIStatus%28%22Fetching...%22%2C%20%22bg-yellow-100%20text-yellow-600%22%2C%20false%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20cacheBuster%20%3D%20%60cb%3D%24%7Bnew%20Date%28%29.getTime%28%29%7D%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Ensure%20this%20API%20endpoint%20is%20still%20valid%20and%20accessible%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20apiUrl%20%3D%20%60https%3A//api.bdg88zf.com/api/webapi/GetNoaverageEmerdList%3F%24%7BcacheBuster%7D%60%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20response%20%3D%20await%20fetch%28apiUrl%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20method%3A%20%22POST%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20headers%3A%20%7B%20%22Content-Type%22%3A%20%22application/json%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20body%3A%20JSON.stringify%28%7B%20//%20Ensure%20payload%20is%20still%20valid%20for%20the%20API%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pageSize%3A%2010%2C%20pageNo%3A%201%2C%20typeId%3A%201%2C%20language%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20random%3A%20%224a0522c6ecd8410496260e686be2a57c%22%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20signature%3A%20%22334B5E70A0C9B8918B0B15E517E2069C%22%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20timestamp%3A%20Math.floor%28Date.now%28%29%20/%201000%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21response.ok%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20errorText%20%3D%20await%20response.text%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error%28%60API%20Error%3A%20%24%7Bresponse.status%7D%20-%20%24%7BerrorText%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateAPIStatus%28%60Error%3A%20%24%7Bresponse.status%7D%60%2C%20%22bg-red-100%20text-red-600%22%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20data%20%3D%20await%20response.json%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21data%20%7C%7C%20typeof%20data%20%21%3D%3D%20%27object%27%20%7C%7C%20%21data.data%20%7C%7C%20typeof%20data.data%20%21%3D%3D%20%27object%27%20%7C%7C%20%21Array.isArray%28data.data.list%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error%28%22API%20Error%3A%20Invalid%20data%20structure.%22%2C%20data%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateAPIStatus%28%22Invalid%20API%20Data%22%2C%20%22bg-red-100%20text-red-600%22%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateAPIStatus%28%22Live%22%2C%20%22bg-green-100%20text-green-600%22%2C%20true%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20data.data.list%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error%28%22Fetch%20API%20Error%3A%22%2C%20e%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateAPIStatus%28%22Fetch%20Failed%22%2C%20%22bg-red-100%20text-red-600%22%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20updateAPIStatus%28message%2C%20styleClass%2C%20autoHide%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28apiStatusEl%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20apiStatusEl.textContent%20%3D%20%60API%3A%20%24%7Bmessage%7D%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20apiStatusEl.className%20%3D%20%60text-xs%20px-1.5%20py-0.5%20rounded-md%20%24%7BstyleClass%7D%20opacity-100%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28apiStatusTimeoutId%29%20clearTimeout%28apiStatusTimeoutId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28autoHide%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20apiStatusTimeoutId%20%3D%20setTimeout%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28apiStatusEl%29%20apiStatusEl.classList.add%28%27opacity-0%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%202000%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20getOppositeNumber%28prediction%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20small%20%3D%20%5B0%2C%201%2C%202%2C%203%2C%204%5D%3B%20const%20big%20%3D%20%5B5%2C%206%2C%207%2C%208%2C%209%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20arr%20%3D%20prediction%20%3D%3D%3D%20%22BIG%22%20%3F%20small%20%3A%20big%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20arr%5BMath.floor%28Math.random%28%29%20*%20arr.length%29%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20//%20...%20%5BAll%20your%20existing%20algorithm%20modules%3A%20detailedTrendAnalysisModule%2C%20dominanceAnalysisModule%2C%20etc.%20remain%20unchanged%5D%20...%0A%20%20%20%20%20%20%20%20//%20Make%20sure%20they%20use%20the%20%60moduleEffectiveness%60%20variable%20which%20is%20now%20synced.%0A%20%20%20%20%20%20%20%20function%20detailedTrendAnalysisModule%28recentHistory%2C%20windowSize%20%3D%207%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20historySlice%20%3D%20recentHistory.slice%280%2C%20windowSize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28historySlice.length%20%3C%202%29%20return%20%7B%20prediction%3A%20null%2C%20confidence%3A%200.3%2C%20weight%3A%201.6%2C%20type%3A%20%22Trend%22%2C%20logic%3A%20%22Tr-Insuff%22%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20currentStreak%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20currentStreakType%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28historySlice.length%20%3E%200%20%26%26%20historySlice%5B0%5D.resultType%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentStreakType%20%3D%20historySlice%5B0%5D.resultType%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentStreak%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28let%20i%20%3D%201%3B%20i%20%3C%20historySlice.length%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28historySlice%5Bi%5D.resultType%20%3D%3D%3D%20currentStreakType%29%20currentStreak++%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20alternations%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28historySlice.length%20%3E%3D%202%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28let%20i%20%3D%200%3B%20i%20%3C%20historySlice.length%20-%201%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28historySlice%5Bi%5D.resultType%20%26%26%20historySlice%5Bi+1%5D.resultType%20%26%26%20historySlice%5Bi%5D.resultType%20%21%3D%3D%20historySlice%5Bi+1%5D.resultType%29%20alternations++%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20break%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20prediction%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20confidence%20%3D%200.45%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20logic%20%3D%20%60Tr%28S%24%7BcurrentStreak%7D%24%7BcurrentStreakType%20%3F%20currentStreakType%5B0%5D%20%3A%20%27%27%7DA%24%7Balternations%7D%29%60%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28currentStreak%20%3E%3D%203%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20prediction%20%3D%20currentStreakType%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20confidence%20%3D%200.72%20+%20Math.min%280.23%2C%20%28currentStreak%20-%203%29%20*%200.08%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28currentStreak%20%3D%3D%3D%202%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20prediction%20%3D%20currentStreakType%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20confidence%20%3D%200.65%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28alternations%20%3E%3D%203%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20prediction%20%3D%20historySlice%5B0%5D.resultType%20%3D%3D%3D%20%22BIG%22%20%3F%20%22SMALL%22%20%3A%20%22BIG%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20confidence%20%3D%200.70%20+%20Math.min%280.20%2C%20%28alternations%20-%202%29%20*%200.07%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28alternations%20%3D%3D%3D%202%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20prediction%20%3D%20historySlice%5B0%5D.resultType%20%3D%3D%3D%20%22BIG%22%20%3F%20%22SMALL%22%20%3A%20%22BIG%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20confidence%20%3D%200.62%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28currentStreak%20%3D%3D%3D%201%20%26%26%20alternations%20%3D%3D%3D%200%20%26%26%20historySlice.length%20%3E%3D2%20%26%26%20historySlice%5B0%5D.resultType%20%21%3D%3D%20historySlice%5B1%5D.resultType%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20prediction%20%3D%20historySlice%5B0%5D.resultType%20%3D%3D%3D%20%22BIG%22%20%3F%20%22SMALL%22%20%3A%20%22BIG%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20confidence%20%3D%200.58%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28currentStreak%20%3D%3D%3D%201%20%26%26%20historySlice.length%20%3D%3D%3D%201%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20prediction%20%3D%20historySlice%5B0%5D.resultType%20%3D%3D%3D%20%22BIG%22%20%3F%20%22SMALL%22%20%3A%20%22BIG%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20confidence%20%3D%200.52%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%20prediction%2C%20confidence%3A%20parseFloat%28confidence.toFixed%282%29%29%2C%20weight%3A%201.6%20*%20%28moduleEffectiveness.Trend%3F.weightMultiplier%20%7C%7C%201.0%29%2C%20type%3A%20%22Trend%22%2C%20logic%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20dominanceAnalysisModule%28recentHistory%2C%20windowSize%20%3D%2010%2C%20baseWeight%20%3D%201.0%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20historySlice%20%3D%20recentHistory.slice%280%2C%20windowSize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28historySlice.length%20%3C%20windowSize%20/%202%29%20return%20%7B%20prediction%3A%20null%2C%20confidence%3A%200.3%2C%20weight%3A%20baseWeight%2C%20type%3A%20%22Dominance%22%2C%20logic%3A%20%60Dom%24%7BwindowSize%7D-Insuff%60%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20bigCount%20%3D%20historySlice.filter%28h%20%3D%3E%20h.resultType%20%3D%3D%3D%20%22BIG%22%29.length%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20smallCount%20%3D%20historySlice.filter%28h%20%3D%3E%20h.resultType%20%3D%3D%3D%20%22SMALL%22%29.length%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20total%20%3D%20bigCount%20+%20smallCount%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28total%20%3D%3D%3D%200%29%20return%20%7B%20prediction%3A%20null%2C%20confidence%3A%200.3%2C%20weight%3A%20baseWeight%2C%20type%3A%20%22Dominance%22%2C%20logic%3A%20%60Dom%24%7BwindowSize%7D-NoBS%60%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20dominanceFactor%20%3D%20total%20%3E%200%20%3F%20%28Math.max%28bigCount%2C%20smallCount%29%20/%20total%29%20%3A%200.5%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20dominantType%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28bigCount%20%3E%20smallCount%29%20dominantType%20%3D%20%22BIG%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28smallCount%20%3E%20bigCount%29%20dominantType%20%3D%20%22SMALL%22%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20prediction%20%3D%20dominantType%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20confidence%20%3D%200.42%20+%20%28dominanceFactor%20-%200.5%29%20*%200.85%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21dominantType%29%20confidence%20%3D%200.3%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%20prediction%2C%20confidence%3A%20parseFloat%28confidence.toFixed%282%29%29%2C%20weight%3A%20baseWeight%20*%20%28moduleEffectiveness.Dominance%3F.weightMultiplier%20%7C%7C%201.0%29%2C%20type%3A%20%22Dominance%22%2C%20logic%3A%20%60Dom%24%7BwindowSize%7D%28%24%7BdominantType%20%3F%20dominantType%5B0%5D%20%3A%20%27E%27%7D%24%7BdominanceFactor.toFixed%281%29%7D%29%60%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20recencyBiasAnalysisModule%28recentHistory%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28recentHistory.length%20%3D%3D%3D%200%20%7C%7C%20%21recentHistory%5B0%5D.resultType%29%20return%20%7B%20prediction%3A%20null%2C%20confidence%3A%200.3%2C%20weight%3A%201.4%2C%20type%3A%20%22Recency%22%2C%20logic%3A%20%22Rec-Empty%22%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20last1%20%3D%20recentHistory%5B0%5D.resultType%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20prediction%20%3D%20last1%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20confidence%20%3D%200.60%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20last2%20%3D%20null%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28recentHistory.length%20%3E%3D%202%20%26%26%20recentHistory%5B1%5D.resultType%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20last2%20%3D%20recentHistory%5B1%5D.resultType%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28last1%20%3D%3D%3D%20last2%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20prediction%20%3D%20last1%3B%20confidence%20%3D%200.70%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20prediction%20%3D%20last1%3B%20confidence%20%3D%200.65%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28recentHistory.length%20%3E%3D%203%20%26%26%20recentHistory%5B2%5D.resultType%20%26%26%20last2%20%21%3D%3D%20null%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20last3%20%3D%20recentHistory%5B2%5D.resultType%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28last1%20%3D%3D%3D%20last2%20%26%26%20last1%20%3D%3D%3D%20last3%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20prediction%20%3D%20last1%3B%20confidence%20%3D%200.78%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28last1%20%21%3D%3D%20last2%20%26%26%20last1%20%3D%3D%3D%20last3%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20prediction%20%3D%20last2%3B%20confidence%20%3D%200.72%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20l1Char%20%3D%20last1%20%3F%20last1%5B0%5D%20%3A%20%27N%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20l2Char%20%3D%20last2%20%3F%20last2%5B0%5D%20%3A%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20l3Char%20%3D%20%28recentHistory.length%20%3E%3D3%20%26%26%20recentHistory%5B2%5D.resultType%29%20%3F%20recentHistory%5B2%5D.resultType%5B0%5D%20%3A%20%27%27%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%20prediction%2C%20confidence%3A%20parseFloat%28confidence.toFixed%282%29%29%2C%20weight%3A%201.4%20*%20%28moduleEffectiveness.Recency%3F.weightMultiplier%20%7C%7C%201.0%29%2C%20type%3A%20%22Recency%22%2C%20logic%3A%20%60Rec%28%24%7Bl1Char%7D%24%7Bl2Char%7D%24%7Bl3Char%7D%29%60%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20volatilityAndConsistencyModule%28recentHistory%2C%20windowSize%20%3D%208%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20historySlice%20%3D%20recentHistory.slice%280%2C%20windowSize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28historySlice.length%20%3C%202%29%20return%20%7B%20volatilityScore%3A%200.5%2C%20consistencyStreak%3A%200%2C%20type%3A%20%22Volatility%22%2C%20logic%3A%20%22Vol-Insuff%22%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20changes%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28let%20i%20%3D%200%3B%20i%20%3C%20historySlice.length%20-%201%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28historySlice%5Bi%5D.resultType%20%26%26%20historySlice%5Bi+1%5D.resultType%20%26%26%20historySlice%5Bi%5D.resultType%20%21%3D%3D%20historySlice%5Bi+1%5D.resultType%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20changes++%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20volatilityScore%20%3D%20historySlice.length%20%3E%201%20%3F%20changes%20/%20%28historySlice.length%20-%201%29%20%3A%200.5%3B%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20consistencyStreak%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28historySlice.length%20%3E%200%20%26%26%20historySlice%5B0%5D.resultType%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20lastType%20%3D%20historySlice%5B0%5D.resultType%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28const%20item%20of%20historySlice%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28item.resultType%20%3D%3D%3D%20lastType%29%20consistencyStreak++%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%20volatilityScore%3A%20parseFloat%28volatilityScore.toFixed%282%29%29%2C%20consistencyStreak%2C%20type%3A%20%22Volatility%22%2C%20logic%3A%20%60Vol%28V%24%7BvolatilityScore.toFixed%281%29%7DC%24%7BconsistencyStreak%7D%29%60%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20complexPatternDetectorModule%28recentHistory%2C%20windowSize%20%3D%206%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20historySlice%20%3D%20recentHistory.slice%280%2C%20windowSize%29.map%28h%20%3D%3E%20h.resultType%29.filter%28Boolean%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28historySlice.length%20%3C%203%29%20return%20%7B%20prediction%3A%20null%2C%20confidence%3A%200.3%2C%20weight%3A%201.25%2C%20type%3A%20%22CP%22%2C%20logic%3A%20%22CP-Insuff%22%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20s%20%3D%20historySlice.join%28%27%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20prediction%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20confidence%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20logic%20%3D%20%22CP-None%22%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28s.startsWith%28%22BBSS%22%29%29%20%7B%20prediction%20%3D%20%22BIG%22%3B%20confidence%20%3D%200.72%3B%20logic%20%3D%20%22CP%3ABBSS%3EB%22%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28s.startsWith%28%22SSBB%22%29%29%20%7B%20prediction%20%3D%20%22SMALL%22%3B%20confidence%20%3D%200.72%3B%20logic%20%3D%20%22CP%3ASSBB%3ES%22%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28s.startsWith%28%22BSSB%22%29%29%20%7B%20prediction%20%3D%20%22SMALL%22%3B%20confidence%20%3D%200.70%3B%20logic%20%3D%20%22CP%3ABSSB%3ES%22%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28s.startsWith%28%22SBBS%22%29%29%20%7B%20prediction%20%3D%20%22BIG%22%3B%20confidence%20%3D%200.70%3B%20logic%20%3D%20%22CP%3ASBBS%3EB%22%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28s.startsWith%28%22BBBS%22%29%29%20%7B%20prediction%20%3D%20%22SMALL%22%3B%20confidence%20%3D%200.75%3B%20logic%20%3D%20%22CP%3ABBBS%3ES_Brk%22%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28s.startsWith%28%22SSSB%22%29%29%20%7B%20prediction%20%3D%20%22BIG%22%3B%20confidence%20%3D%200.75%3B%20logic%20%3D%20%22CP%3ASSSB%3EB_Brk%22%3B%20%7D%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28s.startsWith%28%22BSBS%22%29%29%20%7B%20prediction%20%3D%20%22BIG%22%3B%20confidence%20%3D%200.68%3B%20logic%20%3D%20%22CP%3ABSBS%3EB_Alt%22%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28s.startsWith%28%22SBSB%22%29%29%20%7B%20prediction%20%3D%20%22SMALL%22%3B%20confidence%20%3D%200.68%3B%20logic%20%3D%20%22CP%3ASBSB%3ES_Alt%22%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28s.startsWith%28%22BBSB%22%29%29%20%7B%20prediction%20%3D%20%22BIG%22%3B%20confidence%20%3D%200.65%3B%20logic%20%3D%20%22CP%3ABBSB%3EB%22%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28s.startsWith%28%22SSBS%22%29%29%20%7B%20prediction%20%3D%20%22SMALL%22%3B%20confidence%20%3D%200.65%3B%20logic%20%3D%20%22CP%3ASSBS%3ES%22%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28s.startsWith%28%22BSB%22%29%29%20%7B%20prediction%20%3D%20%22SMALL%22%3B%20confidence%20%3D%200.60%3B%20logic%20%3D%20%22CP%3ABSB%3ES_Alt3%22%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28s.startsWith%28%22SBS%22%29%29%20%7B%20prediction%20%3D%20%22BIG%22%3B%20confidence%20%3D%200.60%3B%20logic%20%3D%20%22CP%3ASBS%3EB_Alt3%22%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28s.startsWith%28%22BBB%22%29%20%26%26%20historySlice.length%20%3E%3D3%29%20%7B%20prediction%20%3D%20%22SMALL%22%3B%20confidence%20%3D%200.62%3B%20logic%20%3D%20%22CP%3ABBB%3ES_Brk3%22%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28s.startsWith%28%22SSS%22%29%20%26%26%20historySlice.length%20%3E%3D3%29%20%7B%20prediction%20%3D%20%22BIG%22%3B%20confidence%20%3D%200.62%3B%20logic%20%3D%20%22CP%3ASSS%3EB_Brk3%22%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28s.startsWith%28%22BB%22%29%20%26%26%20historySlice.length%20%3D%3D%3D%202%29%20%7B%20prediction%20%3D%20%22BIG%22%3B%20confidence%20%3D%200.55%3B%20logic%20%3D%20%22CP%3ABB%3EB_Cont2%22%3B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28s.startsWith%28%22SS%22%29%20%26%26%20historySlice.length%20%3D%3D%3D%202%29%20%7B%20prediction%20%3D%20%22SMALL%22%3B%20confidence%20%3D%200.55%3B%20logic%20%3D%20%22CP%3ASS%3ES_Cont2%22%3B%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%20prediction%2C%20confidence%3A%20parseFloat%28confidence.toFixed%282%29%29%2C%20weight%3A%201.25%20*%20%28moduleEffectiveness.CP%3F.weightMultiplier%20%7C%7C%201.0%29%2C%20type%3A%20%22CP%22%2C%20logic%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20rhythmAndCycleAnalysisModule%28recentHistory%2C%20windowSize%20%3D%2015%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20historySlice%20%3D%20recentHistory.slice%280%2C%20windowSize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28historySlice.length%20%3C%205%29%20return%20%7B%20phase%3A%20%22UNCLEAR%22%2C%20confidence%3A%200.4%2C%20weight%3A%200.7%2C%20type%3A%20%22Rhythm%22%2C%20logic%3A%20%22Rhy-Insuff%22%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20alternations%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20streaksOfTwo%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20streaksOfThreePlus%20%3D%200%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28let%20i%20%3D%200%3B%20i%20%3C%20historySlice.length%20-%201%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28historySlice%5Bi%5D.resultType%20%26%26%20historySlice%5Bi+1%5D.resultType%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28historySlice%5Bi%5D.resultType%20%21%3D%3D%20historySlice%5Bi+1%5D.resultType%29%20alternations++%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28i%20+%202%20%3C%20historySlice.length%20%26%26%20historySlice%5Bi+1%5D.resultType%20%3D%3D%3D%20historySlice%5Bi+2%5D.resultType%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20streaksOfThreePlus++%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20+%3D%202%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20streaksOfTwo++%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20+%3D%201%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20alternationRatio%20%3D%20historySlice.length%20%3E%201%20%3F%20alternations%20/%20%28historySlice.length%20-1%29%20%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20phase%20%3D%20%22MIXED%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20confidence%20%3D%200.5%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28alternationRatio%20%3E%200.65%29%20%7B%20phase%20%3D%20%22CHOPPY%22%3B%20confidence%20%3D%200.65%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28streaksOfThreePlus%20%3E%20streaksOfTwo%20%26%26%20streaksOfThreePlus%20%3E%20alternations%20/%202%29%20%7B%20phase%20%3D%20%22STREAKY%22%3B%20confidence%20%3D%200.65%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28streaksOfTwo%20%3E%20streaksOfThreePlus%20%26%26%20streaksOfTwo%20%3E%20alternations%20/%202%29%20%7B%20phase%20%3D%20%22SHORT_STREAKS%22%3B%20confidence%20%3D%200.60%3B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%20phase%2C%20confidence%3A%20parseFloat%28confidence.toFixed%282%29%29%2C%20weight%3A%200.7%20*%20%28moduleEffectiveness.Rhythm%3F.weightMultiplier%20%7C%7C%201.0%29%2C%20type%3A%20%22Rhythm%22%2C%20logic%3A%20%60Rhy%28%24%7Bphase%7D%29%60%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20getWeightedEnsemblePrediction%28signals%2C%20volatilityContext%2C%20rhythmContext%2C%20isExtremeLevelReached%2C%20streakTypeToBreak%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20bigScore%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20smallScore%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20logicParts%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21signals%20%7C%7C%20signals.length%20%3D%3D%3D%200%29%20return%20%7B%20prediction%3A%20%28Date.now%28%29%20%25%202%20%3D%3D%3D%200%29%20%3F%20%22BIG%22%20%3A%20%22SMALL%22%2C%20confidence%3A%200.35%2C%20logic%3A%20%22EnsV6-NoSignals%22%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20signals.forEach%28signal%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21signal%20%7C%7C%20signal.prediction%20%3D%3D%3D%20null%20%7C%7C%20typeof%20signal.confidence%20%21%3D%3D%20%27number%27%20%7C%7C%20typeof%20signal.weight%20%21%3D%3D%20%27number%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28signal%20%26%26%20signal.type%20%3D%3D%3D%20%22Rhythm%22%20%26%26%20typeof%20signal.confidence%20%3D%3D%3D%20%27number%27%20%26%26%20typeof%20signal.weight%20%3D%3D%3D%20%27number%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Allow%20Rhythm%20type%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20currentWeight%20%3D%20signal.weight%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28volatilityContext%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28volatilityContext.volatilityScore%20%3E%200.70%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28signal.type%20%3D%3D%3D%20%22Trend%22%20%26%26%20signal.confidence%20%3E%200.60%29%20currentWeight%20*%3D%200.50%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28signal.type%20%3D%3D%3D%20%22Recency%22%29%20currentWeight%20*%3D%201.35%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28signal.type%20%3D%3D%3D%20%22CP%22%29%20currentWeight%20*%3D%200.60%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28volatilityContext.consistencyStreak%20%3E%3D%203%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28signal.type%20%3D%3D%3D%20%22Trend%22%20%26%26%20signal.confidence%20%3E%200.50%29%20currentWeight%20*%3D%201.45%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28signal.type%20%3D%3D%3D%20%22Recency%22%20%26%26%20volatilityContext.consistencyStreak%20%3E%3D4%29%20currentWeight%20*%3D%201.30%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28rhythmContext%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28rhythmContext.phase%20%3D%3D%3D%20%22STREAKY%22%20%26%26%20signal.type%20%3D%3D%3D%20%22Trend%22%29%20currentWeight%20*%3D%201.2%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28rhythmContext.phase%20%3D%3D%3D%20%22CHOPPY%22%20%26%26%20%28signal.type%20%3D%3D%3D%20%22Trend%22%20%7C%7C%20signal.type%20%3D%3D%3D%20%22CP%22%29%29%20currentWeight%20*%3D%200.7%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28rhythmContext.phase%20%3D%3D%3D%20%22CHOPPY%22%20%26%26%20signal.type%20%3D%3D%3D%20%22Recency%22%29%20currentWeight%20*%3D%201.15%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isExtremeLevelReached%20%26%26%20streakTypeToBreak%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28signal.prediction%20%3D%3D%3D%20streakTypeToBreak%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentWeight%20*%3D%200.05%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20signal.confidence%20*%3D%200.3%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentWeight%20*%3D%202.8%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20signal.confidence%20%3D%20Math.min%280.95%2C%20signal.confidence%20*%201.4%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20scoreContribution%20%3D%20signal.confidence%20*%20currentWeight%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28signal.prediction%20%3D%3D%3D%20%22BIG%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bigScore%20+%3D%20scoreContribution%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28signal.prediction%20%3D%3D%3D%20%22SMALL%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20smallScore%20+%3D%20scoreContribution%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20logicParts.push%28%60%24%7Bsignal.type.substring%280%2C3%29%7D%3A%24%7Bsignal.prediction%20%3F%20signal.prediction%5B0%5D%3A%27N%27%7D%28%24%7Bsignal.confidence.toFixed%281%29%7D*%24%7BcurrentWeight.toFixed%281%29%7D%29%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28bigScore%20%3D%3D%3D%200%20%26%26%20smallScore%20%3D%3D%3D%200%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20breakPrediction%20%3D%20isExtremeLevelReached%20%26%26%20streakTypeToBreak%20%3F%20%28streakTypeToBreak%20%3D%3D%3D%20%22BIG%22%20%3F%20%22SMALL%22%20%3A%20%22BIG%22%29%20%3A%20%28Date.now%28%29%20%25%202%20%3D%3D%3D%200%20%3F%20%22BIG%22%20%3A%20%22SMALL%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%20prediction%3A%20breakPrediction%2C%20confidence%3A%200.35%2C%20logic%3A%20%60EnsV6-ZeroScores%24%7BisExtremeLevelReached%20%3F%20%27ExtBrk%27%20%3A%20%27%27%7D%60%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20finalPrediction%20%3D%20bigScore%20%3E%3D%20smallScore%20%3F%20%22BIG%22%20%3A%20%22SMALL%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20totalScore%20%3D%20bigScore%20+%20smallScore%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20finalConfidence%20%3D%20totalScore%20%3E%200%20%3F%20%28Math.abs%28bigScore%20-%20smallScore%29%20/%20totalScore%29%20%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20finalConfidence%20%3D%200.38%20+%20%28finalConfidence%20*%200.57%29%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20agreeingSignals%20%3D%20signals.filter%28s%20%3D%3E%20s.prediction%20%3D%3D%3D%20finalPrediction%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20numAgreeing%20%3D%20agreeingSignals.length%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20numTotalValidSignals%20%3D%20signals.filter%28s%20%3D%3E%20s.prediction%20%21%3D%3D%20null%29.length%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28numTotalValidSignals%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20agreementRatio%20%3D%20numAgreeing%20/%20numTotalValidSignals%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28agreementRatio%20%3E%3D%200.70%20%26%26%20numTotalValidSignals%20%3E%3D%202%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20avgConfidenceOfAgreeing%20%3D%20agreeingSignals.reduce%28%28sum%2C%20s%29%20%3D%3E%20sum%20+%20s.confidence%2C%200%29%20/%20%28numAgreeing%20%7C%7C%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finalConfidence%20%3D%20Math.min%280.95%2C%20%28finalConfidence%20+%20avgConfidenceOfAgreeing%29%20/%201.7%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28agreementRatio%20%3C%3D%200.30%20%26%26%20numTotalValidSignals%20%3E%3D%203%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finalConfidence%20%3D%20Math.max%280.35%2C%20finalConfidence%20*%200.55%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isExtremeLevelReached%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finalConfidence%20%3D%20Math.min%28finalConfidence%2C%200.40%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20logicParts.push%28%22EXTREME_FORCE_ADJ%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20prediction%3A%20finalPrediction%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20confidence%3A%20parseFloat%28Math.max%280.35%2C%20Math.min%280.95%2C%20finalConfidence%29%29.toFixed%282%29%29%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20logic%3A%20%60Ens%28%24%7BlogicParts.join%28%27%7C%27%29.substring%280%2C35%29%7D%29%60%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20advancedPredictionAlgorithm%28periodShortToPredict%2C%20historyForLogic%2C%20currentAlgoWinLevel%2C%20isExtremeLevel%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20resolvedHistory%20%3D%20historyForLogic.filter%28h%20%3D%3E%20h.status%20%21%3D%3D%20%22Pending%22%20%26%26%20typeof%20h.result%20%3D%3D%3D%20%27number%27%20%26%26%20%28h.resultType%20%3D%3D%3D%20%22BIG%22%20%7C%7C%20h.resultType%20%3D%3D%3D%20%22SMALL%22%29%29.slice%280%2C%2025%29%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20signals%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28resolvedHistory.length%20%3E%3D%201%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20signals.push%28detailedTrendAnalysisModule%28resolvedHistory%2C%207%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20signals.push%28dominanceAnalysisModule%28resolvedHistory%2C%205%2C%201.1%29%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20signals.push%28dominanceAnalysisModule%28resolvedHistory%2C%2012%2C%200.9%29%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20signals.push%28recencyBiasAnalysisModule%28resolvedHistory%29%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20signals.push%28complexPatternDetectorModule%28resolvedHistory%2C%206%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20volatilityContext%20%3D%20volatilityAndConsistencyModule%28resolvedHistory%2C%208%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20rhythmContext%20%3D%20rhythmAndCycleAnalysisModule%28resolvedHistory%2C%2015%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20signals.push%28%7Bprediction%3A%20null%2C%20confidence%3A%20rhythmContext.confidence%2C%20weight%3A%20rhythmContext.weight%2C%20type%3A%20%22Rhythm%22%2C%20logic%3A%20rhythmContext.logic%7D%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20streakTypeToBreak%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20predictionToBreakStreak%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28isExtremeLevel%20%26%26%20currentAIPrediction%20%26%26%20currentAIPrediction.prediction%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20streakTypeToBreak%20%3D%20currentAlgoWinLevel%20%3E%200%20%3F%20currentAIPrediction.prediction%20%3A%20%28currentAIPrediction.prediction%20%3D%3D%3D%20%22BIG%22%20%3F%20%22SMALL%22%20%3A%20%22BIG%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20predictionToBreakStreak%20%3D%20streakTypeToBreak%20%3D%3D%3D%20%22BIG%22%20%3F%20%22SMALL%22%20%3A%20%22BIG%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%60Extreme%20Level%20%28%24%7BcurrentAlgoWinLevel%7D%29.%20Current%20streak%20type%3A%20%24%7BcurrentAIPrediction.prediction%7D.%20Aiming%20to%20break%20with%3A%20%24%7BpredictionToBreakStreak%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20combinedPredictionObj%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28signals.filter%28s%20%3D%3E%20s.prediction%20%21%3D%3D%20null%20%7C%7C%20s.type%20%3D%3D%3D%20%22Rhythm%22%29.length%20%3E%200%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20combinedPredictionObj%20%3D%20getWeightedEnsemblePrediction%28signals%2C%20volatilityContext%2C%20rhythmContext%2C%20isExtremeLevel%2C%20streakTypeToBreak%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20breakPrediction%20%3D%20isExtremeLevel%20%26%26%20predictionToBreakStreak%20%3F%20predictionToBreakStreak%20%3A%20%28Date.now%28%29%20%25%202%20%3D%3D%3D%200%20%3F%20%22BIG%22%20%3A%20%22SMALL%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20combinedPredictionObj%20%3D%20%7B%20prediction%3A%20breakPrediction%2C%20confidence%3A%200.38%2C%20logic%3A%20%60FallbackNoSig%24%7BisExtremeLevel%20%3F%20%27ExtBrk%27%3A%27%27%7D%60%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20finalPrediction%20%3D%20combinedPredictionObj.prediction%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20finalConfidence%20%3D%20combinedPredictionObj.confidence%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20finalLogic%20%3D%20combinedPredictionObj.logic%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isExtremeLevel%20%26%26%20predictionToBreakStreak%20%26%26%20finalPrediction%20%21%3D%3D%20predictionToBreakStreak%20%26%26%20%21finalLogic.includes%28%22FLIP%22%29%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%60ExtremeLvlOverride%20V6%3A%20Ensemble%20picked%20%24%7BfinalPrediction%7D%2C%20but%20forcing%20%24%7BpredictionToBreakStreak%7D%20due%20to%20level%20%24%7BcurrentAlgoWinLevel%7D.%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finalPrediction%20%3D%20predictionToBreakStreak%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finalConfidence%20%3D%200.37%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finalLogic%20%3D%20%60ExtLvlOVER%28%24%7BcurrentAlgoWinLevel%7D%29%21%24%7BpredictionToBreakStreak%5B0%5D%7D%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isExtremeLevel%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20typeThatCausedExtreme%20%3D%20currentAlgoWinLevel%20%3E%200%20%3F%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28currentAIPrediction%3F.prediction%29%20%3A%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28currentAIPrediction%3F.prediction%20%3D%3D%3D%20%22BIG%22%20%3F%20%22SMALL%22%20%3A%20%22BIG%22%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeThatCausedExtreme%20%26%26%20finalPrediction%20%3D%3D%3D%20typeThatCausedExtreme%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.warn%28%60ULTRA%20FORCE%20FLIP%20V6%3A%20Ensemble%20still%20predicted%20%24%7BfinalPrediction%7D%20at%20extreme%20level%20%24%7BcurrentAlgoWinLevel%7D.%20Forcing%20FLIP%20for%20period%20%24%7BperiodShortToPredict%7D.%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finalPrediction%20%3D%20finalPrediction%20%3D%3D%3D%20%22BIG%22%20%3F%20%22SMALL%22%20%3A%20%22BIG%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finalConfidence%20%3D%200.35%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finalLogic%20%3D%20%60FORCE_FLIP%21%21%28%24%7BcurrentAlgoWinLevel%7D%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20oppositeNum%20%3D%20getOppositeNumber%28finalPrediction%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20...DEFAULT_PREDICTION_ITEM_STRUCTURE%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20periodShortToPredict%20+%20%22_ai_%22%20+%20Date.now%28%29%2C%20period%3A%20periodShortToPredict%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20predictionTime%3A%20new%20Date%28%29.toISOString%28%29%2C%20prediction%3A%20finalPrediction%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20oppositeNumber%3A%20oppositeNum%2C%20confidence%3A%20finalConfidence%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20logic%3A%20finalLogic.substring%280%2C%2050%29%2C%20status%3A%20%22Pending%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20updateModuleEffectiveness%28logicString%2C%20predictionStatus%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21logicString%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20mainModuleType%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28logicString.startsWith%28%22Ens%28%22%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20ensContent%20%3D%20logicString.substring%284%2C%20logicString.indexOf%28%27%29%27%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20firstSignal%20%3D%20ensContent.split%28%27%7C%27%29%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28firstSignal%20%26%26%20firstSignal.includes%28%27%3A%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mainModuleType%20%3D%20firstSignal.substring%280%2C%20firstSignal.indexOf%28%27%3A%27%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28logicString.includes%28%22FLIP%22%29%20%7C%7C%20logicString.includes%28%22ExtLvl%22%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20parts%20%3D%20logicString.match%28/%5E%28%5BA-Za-z%5D+%29/%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28parts%20%26%26%20parts%5B1%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20keyMap%20%3D%20%7B%20%22Tr%22%3A%20%22Trend%22%2C%20%22Dom%22%3A%20%22Dominance%22%2C%20%22Rec%22%3A%20%22Recency%22%2C%20%22CP%22%3A%20%22CP%22%2C%20%22Vol%22%3A%20%22Volatility%22%2C%20%22Rhy%22%3A%20%22Rhythm%22%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mainModuleType%20%3D%20keyMap%5Bparts%5B1%5D%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28mainModuleType%20%26%26%20moduleEffectiveness%5BmainModuleType%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28predictionStatus%20%3D%3D%3D%20%22WIN%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moduleEffectiveness%5BmainModuleType%5D.wins%20%3D%20%28moduleEffectiveness%5BmainModuleType%5D.wins%20%7C%7C%200%29%20+%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28predictionStatus%20%3D%3D%3D%20%22LOSS%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moduleEffectiveness%5BmainModuleType%5D.losses%20%3D%20%28moduleEffectiveness%5BmainModuleType%5D.losses%20%7C%7C%200%29%20+%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20total%20%3D%20moduleEffectiveness%5BmainModuleType%5D.wins%20+%20moduleEffectiveness%5BmainModuleType%5D.losses%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28total%20%3E%3D%203%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20ratio%20%3D%20moduleEffectiveness%5BmainModuleType%5D.wins%20/%20total%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20currentMultiplier%20%3D%20moduleEffectiveness%5BmainModuleType%5D.weightMultiplier%20%7C%7C%201.0%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28ratio%20%3E%200.60%29%20currentMultiplier%20%3D%20Math.min%281.35%2C%20currentMultiplier%20+%200.07%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28ratio%20%3C%200.40%29%20currentMultiplier%20%3D%20Math.max%280.65%2C%20currentMultiplier%20-%200.07%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28ratio%20%3E%3D%200.45%20%26%26%20ratio%20%3C%3D%200.55%29%20currentMultiplier%20%3D%201.0%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moduleEffectiveness%5BmainModuleType%5D.weightMultiplier%20%3D%20parseFloat%28currentMultiplier.toFixed%282%29%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28total%20%3E%3D%20EFFECTIVENESS_MEMORY%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moduleEffectiveness%5BmainModuleType%5D.wins%20%3D%20Math.round%28moduleEffectiveness%5BmainModuleType%5D.wins%20/%202%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moduleEffectiveness%5BmainModuleType%5D.losses%20%3D%20Math.round%28moduleEffectiveness%5BmainModuleType%5D.losses%20/%202%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%60Effectiveness%20memory%20reset%20for%20%24%7BmainModuleType%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%60Effectiveness%20for%20%24%7BmainModuleType%7D%3A%20W%3D%24%7BmoduleEffectiveness%5BmainModuleType%5D.wins%7D%2C%20L%3D%24%7BmoduleEffectiveness%5BmainModuleType%5D.losses%7D%2C%20Multiplier%3D%24%7BmoduleEffectiveness%5BmainModuleType%5D.weightMultiplier%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20saveAllData%28%29%3B%20//%20This%20will%20be%20called%20by%20the%20main%20update%20loop%20after%20all%20processing%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20async%20function%20updateGameData%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20isLoggedInToPredictor%20%3D%20localStorage.getItem%28PREDICTOR_LOGGED_IN_KEY%29%20%3D%3D%3D%20%27true%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isUpdatingData%20%7C%7C%20%21isLoggedInToPredictor%20%7C%7C%20%21isPredictorServerOn%20%7C%7C%20%21currentDeviceId%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21isLoggedInToPredictor%29%20console.log%28%22UpdateGameData%20skipped%3A%20User%20not%20logged%20into%20predictor.%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28%21isPredictorServerOn%29%20console.log%28%22UpdateGameData%20skipped%3A%20Predictor%20server%20is%20OFF.%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28isUpdatingData%29%20console.log%28%22UpdateGameData%20skipped%3A%20Already%20updating.%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28%21currentDeviceId%29%20console.log%28%22UpdateGameData%20skipped%3A%20No%20Device%20ID.%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20isUpdatingData%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20apiResults%20%3D%20await%20fetchGameResultFromAPI%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20newResultsProcessedThisCycle%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28apiResults%20%26%26%20apiResults.length%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28const%20apiResult%20of%20apiResults.slice%28%29.reverse%28%29%29%20%7B%20//%20Process%20oldest%20first%20from%20API%20batch%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21apiResult%20%7C%7C%20typeof%20apiResult.issueNumber%20%21%3D%3D%20%27string%27%20%7C%7C%20typeof%20apiResult.number%20%3D%3D%3D%20%27undefined%27%29%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20fullPeriod%20%3D%20apiResult.issueNumber%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20periodShort%20%3D%20fullPeriod.slice%28-3%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20apiResultNumber%20%3D%20parseInt%28apiResult.number%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isNaN%28apiResultNumber%29%20%7C%7C%20apiResultNumber%20%3C%200%20%7C%7C%20apiResultNumber%20%3E%209%29%20continue%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20existingEntryIndex%20%3D%20allHistory.findIndex%28item%20%3D%3E%20item.fullPeriod%20%3D%3D%3D%20fullPeriod%29%3B%20//%20Match%20on%20fullPeriod%20for%20accuracy%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20entryToUpdate%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28existingEntryIndex%20%21%3D%3D%20-1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20entryToUpdate%20%3D%20%7B%20...allHistory%5BexistingEntryIndex%5D%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28entryToUpdate.status%20%21%3D%3D%20%22Pending%22%20%26%26%20entryToUpdate.status%20%21%3D%3D%20%22SKIPPED%22%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28%21entryToUpdate.fullPeriod%29%20entryToUpdate.fullPeriod%20%3D%20fullPeriod%3B%20//%20Ensure%20fullPeriod%20is%20set%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28entryToUpdate.result%20%3D%3D%3D%20null%29%20entryToUpdate.result%20%3D%20apiResultNumber%3B%20//%20Update%20result%20if%20it%20was%20null%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20allHistory%5BexistingEntryIndex%5D%20%3D%20entryToUpdate%3B%20//%20Update%20in%20local%20array%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20entryToUpdate%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20...DEFAULT_PREDICTION_ITEM_STRUCTURE%2C%20id%3A%20periodShort%20+%20%22_api_%22%20+%20Date.now%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20period%3A%20periodShort%2C%20fullPeriod%3A%20fullPeriod%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20predictionTime%3A%20new%20Date%28apiResult.time%20%7C%7C%20Date.now%28%29%29.toISOString%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20status%3A%20%22API_RESULT_ONLY%22%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20entryToUpdate.result%20%3D%20apiResultNumber%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20entryToUpdate.resultType%20%3D%20apiResultNumber%20%3E%3D%205%20%3F%20%22BIG%22%20%3A%20%22SMALL%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28apiResultNumber%20%3D%3D%3D%200%20%7C%7C%20apiResultNumber%20%3D%3D%3D%205%29%20entryToUpdate.resultColor%20%3D%20apiResultNumber%20%3D%3D%3D%200%20%3F%20%22REDVIOLET%22%20%3A%20%22GREENVIOLET%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28apiResultNumber%20%25%202%20%3D%3D%3D%200%29%20entryToUpdate.resultColor%20%3D%20%22RED%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20entryToUpdate.resultColor%20%3D%20%22GREEN%22%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28entryToUpdate.status%20%3D%3D%3D%20%22Pending%22%20%26%26%20entryToUpdate.prediction%20%26%26%20%28entryToUpdate.prediction%20%3D%3D%3D%20%22BIG%22%20%7C%7C%20entryToUpdate.prediction%20%3D%3D%3D%20%22SMALL%22%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28entryToUpdate.prediction%20%3D%3D%3D%20entryToUpdate.resultType%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20entryToUpdate.status%20%3D%20%22WIN%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localWinLevel%20%3D%20Math.min%28localWinLevel%20+%201%2C%20MAX_WIN_LEVEL_STREAK%20*%202%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20entryToUpdate.status%20%3D%20%22LOSS%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localWinLevel%20%3D%20Math.max%28localWinLevel%20-%201%2C%20-MAX_WIN_LEVEL_STREAK%20*%202%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateModuleEffectiveness%28entryToUpdate.logic%2C%20entryToUpdate.status%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28entryToUpdate.status%20%3D%3D%3D%20%22Pending%22%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20entryToUpdate.status%20%3D%20%22API_RESULT_ONLY%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20entryToUpdate.prediction%20%3D%20null%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28existingEntryIndex%20%21%3D%3D%20-1%29%20allHistory%5BexistingEntryIndex%5D%20%3D%20entryToUpdate%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20allHistory.unshift%28entryToUpdate%29%3B%20//%20Add%20new%20entry%20to%20the%20beginning%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newResultsProcessedThisCycle%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28newResultsProcessedThisCycle%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lastAPIFetchedPeriodFull%20%3D%20apiResults%5B0%5D.issueNumber%3B%20//%20API%20results%20are%20newest%20first%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Trend%20Stability%20Check%20before%20making%20new%20prediction%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20stability%20%3D%20analyzeTrendStability%28allHistory%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21stability.isStable%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.warn%28%22Trend%20Unstable%3A%22%2C%20stability.reason%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20badTrendText.textContent%20%3D%20stability.reason%20+%20%22%20Predictions%20paused.%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20badTrendIndicator.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20nextPeriodToSkipFull%20%3D%20lastAPIFetchedPeriodFull%20%3F%20%28BigInt%28lastAPIFetchedPeriodFull%29%20+%201n%29.toString%28%29%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28nextPeriodToSkipFull%20%26%26%20%21allHistory.find%28p%20%3D%3E%20p.fullPeriod%20%3D%3D%3D%20nextPeriodToSkipFull%20%26%26%20p.status%20%3D%3D%3D%20%22SKIPPED%22%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentAIPrediction%20%3D%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20...DEFAULT_PREDICTION_ITEM_STRUCTURE%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20%28nextPeriodToSkipFull.slice%28-3%29%29%20+%20%22_skip_%22%20+%20Date.now%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20prediction%3A%20%22SKIP%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20logic%3A%20%22TrendUnstable%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20status%3A%20%22SKIPPED%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20skipReason%3A%20stability.reason%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20period%3A%20nextPeriodToSkipFull.slice%28-3%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fullPeriod%3A%20nextPeriodToSkipFull%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20predictionTime%3A%20new%20Date%28%29.toISOString%28%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20allHistory.unshift%28currentAIPrediction%29%3B%20//%20Add%20skipped%20entry%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newResultsProcessedThisCycle%20%3D%20true%3B%20//%20Indicate%20data%20changed%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28%21nextPeriodToSkipFull%20%26%26%20%21currentAIPrediction%29%20%7B%20//%20Handle%20case%20where%20no%20data%20yet%2C%20but%20unstable%20%28e.g.%20manual%20check%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentAIPrediction%20%3D%20%7B%20...DEFAULT_PREDICTION_ITEM_STRUCTURE%2C%20prediction%3A%20%22SKIP%22%2C%20status%3A%20%22SKIPPED%22%2C%20skipReason%3A%20stability.reason%2C%20logic%3A%20%22TrendUnstableInitial%22%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20badTrendIndicator.style.display%20%3D%20%27none%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28lastAPIFetchedPeriodFull%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20nextPeriodFull%20%3D%20%28BigInt%28lastAPIFetchedPeriodFull%29%20+%201n%29.toString%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20nextPeriodShort%20%3D%20nextPeriodFull.slice%28-3%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20existingPendingForNext%20%3D%20allHistory.find%28p%20%3D%3E%20p.fullPeriod%20%3D%3D%3D%20nextPeriodFull%20%26%26%20p.status%20%3D%3D%3D%20%22Pending%22%20%26%26%20p.prediction%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21existingPendingForNext%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20effectiveWinLevel%20%3D%20localWinLevel%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20isExtremeLevel%20%3D%20Math.abs%28localWinLevel%29%20%3E%3D%20MAX_WIN_LEVEL_STREAK%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20lastResolvedAIPrediction%20%3D%20allHistory.find%28p%20%3D%3E%20p.prediction%20%26%26%20p.fullPeriod%20%3D%3D%3D%20lastAPIFetchedPeriodFull%20%26%26%20%28p.status%20%3D%3D%3D%20%22WIN%22%20%7C%7C%20p.status%20%3D%3D%3D%20%22LOSS%22%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28lastResolvedAIPrediction%20%26%26%20lastResolvedAIPrediction.logic%20%26%26%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28lastResolvedAIPrediction.logic.toLowerCase%28%29.includes%28%27flip%27%29%20%7C%7C%20lastResolvedAIPrediction.logic.toLowerCase%28%29.includes%28%27extlvl%27%29%20%7C%7C%20lastResolvedAIPrediction.logic.toLowerCase%28%29.includes%28%27over%27%29%20%29%20%26%26%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isExtremeLevel%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%60Win/Loss%20Level%20%28%24%7BlocalWinLevel%7D%29%20was%20extreme%2C%20and%20last%20pred%20was%20a%20system%20intervention.%20Resetting%20to%200%20for%20Period%3A%20%24%7BnextPeriodShort%7D.%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localWinLevel%20%3D%200%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20effectiveWinLevel%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isExtremeLevel%20%3D%20false%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20newAIEntry%20%3D%20advancedPredictionAlgorithm%28nextPeriodShort%2C%20allHistory%2C%20effectiveWinLevel%2C%20isExtremeLevel%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newAIEntry.fullPeriod%20%3D%20nextPeriodFull%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20existingApiOnlyIndex%20%3D%20allHistory.findIndex%28p%20%3D%3E%20p.fullPeriod%20%3D%3D%3D%20newAIEntry.fullPeriod%20%26%26%20p.status%20%3D%3D%3D%20%22API_RESULT_ONLY%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28existingApiOnlyIndex%20%21%3D%3D%20-1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20allHistory%5BexistingApiOnlyIndex%5D%20%3D%20%7B%20...allHistory%5BexistingApiOnlyIndex%5D%2C%20...newAIEntry%2C%20status%3A%20%22Pending%22%20%7D%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20allHistory.unshift%28newAIEntry%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentAIPrediction%20%3D%20newAIEntry%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newResultsProcessedThisCycle%20%3D%20true%3B%20//%20Indicate%20data%20changed%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentAIPrediction%20%3D%20existingPendingForNext%3B%20//%20Set%20currentAIPrediction%20to%20the%20existing%20pending%20one%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Sort%20history%20by%20fullPeriod%20%28desc%29%20then%20predictionTime%20%28desc%29%0A%20%20%20%20%20%20%20%20%20%20%20%20allHistory.sort%28%28a%2C%20b%29%20%3D%3E%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20periodNumA%20%3D%20a.fullPeriod%20%3F%20BigInt%28a.fullPeriod%29%20%3A%200%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20periodNumB%20%3D%20b.fullPeriod%20%3F%20BigInt%28b.fullPeriod%29%20%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28periodNumB%20%21%3D%3D%20periodNumA%29%20return%20Number%28periodNumB%20-%20periodNumA%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20timeA%20%3D%20a.predictionTime%20%3F%20new%20Date%28a.predictionTime%29.getTime%28%29%20%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20timeB%20%3D%20b.predictionTime%20%3F%20new%20Date%28b.predictionTime%29.getTime%28%29%20%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20timeB%20-%20timeA%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Filter%20out%20entries%20that%20are%20not%20useful%20for%20display%20or%20logic%2C%20but%20keep%20pending%20AI%20predictions%0A%20%20%20%20%20%20%20%20%20%20%20%20allHistory%20%3D%20allHistory.filter%28item%20%3D%3E%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20item.status%20%3D%3D%3D%20%22API_RESULT_ONLY%22%20%7C%7C%20//%20API%20results%20without%20AI%20pred%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20item.status%20%3D%3D%3D%20%22Pending%22%20%7C%7C%20//%20AI%27s%20pending%20prediction%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20item.status%20%3D%3D%3D%20%22SKIPPED%22%20%7C%7C%20//%20AI%20skipped%20prediction%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28item.prediction%20%26%26%20%28item.prediction%20%3D%3D%3D%20%22BIG%22%20%7C%7C%20item.prediction%20%3D%3D%3D%20%22SMALL%22%29%20%26%26%20%28item.status%20%3D%3D%3D%20%22WIN%22%20%7C%7C%20item.status%20%3D%3D%3D%20%22LOSS%22%29%29%20//%20Resolved%20AI%20predictions%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28allHistory.length%20%3E%20MAX_HISTORY_ITEMS_STORAGE%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20allHistory%20%3D%20allHistory.slice%280%2C%20MAX_HISTORY_ITEMS_STORAGE%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newResultsProcessedThisCycle%20%3D%20true%3B%20//%20Data%20changed%20due%20to%20truncation%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28newResultsProcessedThisCycle%29%20%7B%20//%20Only%20save%20if%20data%20actually%20changed%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20saveAllDataToFirebase%28%29%3B%20//%20Save%20to%20Firebase%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateUI%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20checkSpecialConditions%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20isUpdatingData%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20async%20function%20saveAllDataToFirebase%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21currentDeviceId%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error%28%22Cannot%20save%20data%20to%20Firebase%3A%20No%20Device%20ID.%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20dataToSave%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20allHistory%3A%20allHistory%20%7C%7C%20%5B%5D%2C%20//%20Ensure%20it%27s%20an%20array%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localWinLevel%3A%20localWinLevel%20%7C%7C%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moduleEffectiveness%3A%20moduleEffectiveness%20%7C%7C%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentAIPrediction%3A%20currentAIPrediction%20%7C%7C%20null%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lastAPIFetchedPeriodFull%3A%20lastAPIFetchedPeriodFull%20%7C%7C%20null%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lastUpdated%3A%20firebase.database.ServerValue.TIMESTAMP%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20db.ref%28PREDICTOR_DATA_FIREBASE_PATH%20+%20currentDeviceId%29.set%28dataToSave%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22Predictor%20data%20saved%20to%20Firebase%20for%20device%3A%22%2C%20currentDeviceId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error%28%22Error%20saving%20predictor%20data%20to%20Firebase%3A%22%2C%20error%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20async%20function%20loadPredictorDataFromFirebase%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21currentDeviceId%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.warn%28%22Cannot%20load%20data%20from%20Firebase%3A%20No%20Device%20ID.%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%20//%20Indicate%20failure%20or%20no%20load%20attempt%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20snapshot%20%3D%20await%20db.ref%28PREDICTOR_DATA_FIREBASE_PATH%20+%20currentDeviceId%29.get%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28snapshot.exists%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20data%20%3D%20snapshot.val%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20allHistory%20%3D%20Array.isArray%28data.allHistory%29%20%3F%20data.allHistory%20%3A%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localWinLevel%20%3D%20typeof%20data.localWinLevel%20%3D%3D%3D%20%27number%27%20%3F%20data.localWinLevel%20%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moduleEffectiveness%20%3D%20typeof%20data.moduleEffectiveness%20%3D%3D%3D%20%27object%27%20%26%26%20data.moduleEffectiveness%20%21%3D%3D%20null%20%3F%20data.moduleEffectiveness%20%3A%20%7B%20Trend%3A%20%7B%20wins%3A%200%2C%20losses%3A%200%2C%20weightMultiplier%3A%201.0%20%7D%2C%20Dominance%3A%20%7B%20wins%3A%200%2C%20losses%3A%200%2C%20weightMultiplier%3A%201.0%20%7D%2C%20Recency%3A%20%7B%20wins%3A%200%2C%20losses%3A%200%2C%20weightMultiplier%3A%201.0%20%7D%2C%20CP%3A%20%7B%20wins%3A%200%2C%20losses%3A%200%2C%20weightMultiplier%3A%201.0%20%7D%2C%20Rhythm%3A%20%7B%20wins%3A%200%2C%20losses%3A%200%2C%20weightMultiplier%3A%201.0%20%7D%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentAIPrediction%20%3D%20typeof%20data.currentAIPrediction%20%3D%3D%3D%20%27object%27%20%3F%20data.currentAIPrediction%20%3A%20null%3B%20//%20Can%20be%20null%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lastAPIFetchedPeriodFull%20%3D%20typeof%20data.lastAPIFetchedPeriodFull%20%3D%3D%3D%20%27string%27%20%3F%20data.lastAPIFetchedPeriodFull%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22Predictor%20data%20loaded%20from%20Firebase%20for%20device%3A%22%2C%20currentDeviceId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%20//%20Indicate%20successful%20load%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22No%20predictor%20data%20found%20in%20Firebase%20for%20this%20device.%20Initializing%20fresh.%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Initialize%20with%20defaults%20%28already%20done%20by%20global%20var%20declarations%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20And%20save%20initial%20state%20to%20Firebase%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20saveAllDataToFirebase%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%20//%20Indicate%20no%20data%20was%20found%2C%20initialized%20new%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error%28%22Error%20loading%20predictor%20data%20from%20Firebase%3A%22%2C%20error%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%20//%20Indicate%20error%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20setupFirebasePredictorDataListener%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21currentDeviceId%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20dataRef%20%3D%20db.ref%28PREDICTOR_DATA_FIREBASE_PATH%20+%20currentDeviceId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Detach%20any%20existing%20listener%20first%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28firebasePredictorDataListener%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dataRef.off%28%27value%27%2C%20firebasePredictorDataListener%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20firebasePredictorDataListener%20%3D%20%28snapshot%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28snapshot.exists%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20data%20%3D%20snapshot.val%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Only%20update%20if%20data%20is%20genuinely%20different%20to%20avoid%20loops%20if%20possible%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20though%20Firebase%20RTDB%20client%20might%20handle%20some%20of%20this.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20For%20simplicity%2C%20we%27ll%20update%20directly.%20Careful%20if%20multiple%20tabs%20cause%20rapid%20writes.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20allHistory%20%3D%20Array.isArray%28data.allHistory%29%20%3F%20data.allHistory%20%3A%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localWinLevel%20%3D%20typeof%20data.localWinLevel%20%3D%3D%3D%20%27number%27%20%3F%20data.localWinLevel%20%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moduleEffectiveness%20%3D%20typeof%20data.moduleEffectiveness%20%3D%3D%3D%20%27object%27%20%26%26%20data.moduleEffectiveness%20%21%3D%3D%20null%20%3F%20data.moduleEffectiveness%20%3A%20%7B%20Trend%3A%20%7B%20wins%3A%200%2C%20losses%3A%200%2C%20weightMultiplier%3A%201.0%20%7D%2C%20Dominance%3A%20%7B%20wins%3A%200%2C%20losses%3A%200%2C%20weightMultiplier%3A%201.0%20%7D%2C%20Recency%3A%20%7B%20wins%3A%200%2C%20losses%3A%200%2C%20weightMultiplier%3A%201.0%20%7D%2C%20CP%3A%20%7B%20wins%3A%200%2C%20losses%3A%200%2C%20weightMultiplier%3A%201.0%20%7D%2C%20Rhythm%3A%20%7B%20wins%3A%200%2C%20losses%3A%200%2C%20weightMultiplier%3A%201.0%20%7D%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentAIPrediction%20%3D%20typeof%20data.currentAIPrediction%20%3D%3D%3D%20%27object%27%20%3F%20data.currentAIPrediction%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lastAPIFetchedPeriodFull%20%3D%20typeof%20data.lastAPIFetchedPeriodFull%20%3D%3D%3D%20%27string%27%20%3F%20data.lastAPIFetchedPeriodFull%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22Real-time%20update%20received%20from%20Firebase%20for%20predictor%20data.%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateUI%28%29%3B%20//%20Re-render%20UI%20with%20new%20data%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20dataRef.on%28%27value%27%2C%20firebasePredictorDataListener%2C%20%28error%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error%28%22Firebase%20data%20listener%20error%3A%22%2C%20error%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22Firebase%20predictor%20data%20listener%20attached%20for%22%2C%20currentDeviceId%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%0A%20%20%20%20%20%20%20%20function%20renderHistory%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21historyContainerEl%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20validDisplayItems%20%3D%20allHistory.filter%28item%20%3D%3E%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20item.prediction%20%26%26%20%28item.prediction%20%3D%3D%3D%20%22BIG%22%20%7C%7C%20item.prediction%20%3D%3D%3D%20%22SMALL%22%20%7C%7C%20item.status%20%3D%3D%3D%20%22SKIPPED%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%29.slice%280%2C%20MAX_HISTORY_ITEMS_DISPLAY%29%3B%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28validDisplayItems.length%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20historyContainerEl.innerHTML%20%3D%20%60%3Cp%20style%3D%22color%3A%20var%28--text-primary%29%3B%20opacity%3A0.7%3B%22%20class%3D%22text-center%20py-5%20text-xs%22%3ENo%20AI%20predictions%20in%20history%20yet.%3C/p%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20historyContainerEl.innerHTML%20%3D%20validDisplayItems.map%28%28item%2C%20index%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20sbc%20%3D%20%27badge-pending%27%3B%20let%20ibc%20%3D%20%27history-item-pending%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dT%20%3D%20item.prediction%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20confVal%20%3D%20typeof%20item.confidence%20%3D%3D%3D%20%27number%27%20%3F%20item.confidence%20%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20cT%20%3D%20%60%28%24%7B%28confVal%20*%20100%29.toFixed%280%29%7D%25%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20rD%20%3D%20item.result%20%21%3D%3D%20null%20%3F%20%60%24%7Bitem.result%7D%20%28%24%7Bitem.resultType%20%7C%7C%20%27%27%7D%29%60%20%3A%20%27Wait...%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20oNT%20%3D%20item.oppositeNumber%20%21%3D%3D%20null%20%3F%20%60Op%3A%24%7Bitem.oppositeNumber%7D%60%20%3A%20%27%27%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28item.status%20%3D%3D%3D%20%27WIN%27%29%20%7B%20sbc%20%3D%20%27badge-win%27%3B%20ibc%20%3D%20%27history-item-win%27%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28item.status%20%3D%3D%3D%20%27LOSS%27%29%20%7B%20sbc%20%3D%20%27badge-loss%27%3B%20ibc%20%3D%20%27history-item-loss%27%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28item.status%20%3D%3D%3D%20%27SKIPPED%27%29%20%7B%20sbc%20%3D%20%27badge-skipped%27%3B%20ibc%20%3D%20%27history-item-skipped%27%3B%20dT%20%3D%20%27SKIPPED%27%3B%20cT%20%3D%20%27%27%3B%20rD%20%3D%20item.skipReason%20%7C%7C%20%27N/A%27%3B%20oNT%20%3D%20%27%27%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20pD%20%3D%20item.period%20%7C%7C%20%28item.fullPeriod%20%3F%20item.fullPeriod.slice%28-3%29%20%3A%20%27-%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20lS%20%3D%20item.logic%20%3F%20item.logic.substring%280%2C10%29+%28item.logic.length%20%3E%2010%20%3F%20%27%u2026%27%20%3A%20%27%27%29%20%3A%20%27N/A%27%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22history-item%20%24%7Bibc%7D%20p-2%20rounded-md%20shadow-xs%20flex%20items-center%20gap-1.5%20text-xs%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data-id%3D%22%24%7Bitem.id%7D%22%20style%3D%22animation%3A%20fadeIn%200.15s%20ease-out%20%24%7Bindex%20*%200.02%7Ds%20backwards%3B%20background-color%3A%20var%28--card-bg%29%3B%20color%3A%20var%28--text-primary%29%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22font-semibold%20w-10%20text-center%20py-1%22%20style%3D%22color%3A%20var%28--text-primary%29%3B%20opacity%3A%200.8%3B%22%3E%24%7BpD%7D%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22flex-1%20grid%20grid-cols-4%20gap-1%20items-center%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22truncate%20py-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22font-medium%22%3E%24%7BdT%7D%20%3Cspan%20class%3D%22text-%5B0.6rem%5D%22%20style%3D%22opacity%3A0.7%3B%22%3E%24%7BcT%7D%3C/span%3E%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20class%3D%22text-%5B0.6rem%5D%22%20style%3D%22opacity%3A0.6%3B%22%3E%24%7BoNT%7D%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22truncate%20text-%5B0.6rem%5D%20py-1%22%20title%3D%22%24%7Bitem.logic%20%7C%7C%20%27%27%7D%22%20style%3D%22opacity%3A0.7%3B%22%3E%24%7BlS%7D%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22font-medium%20truncate%20py-1%22%3E%24%7BrD%7D%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text-right%20py-1%22%3E%20%3Cspan%20class%3D%22premium-badge%20%24%7Bsbc%7D%22%3E%24%7Bitem.status%7D%3C/span%3E%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22delete-btn%20p-1%20rounded-full%20ml-1%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onclick%3D%22handleDeletePrediction%28%27%24%7Bitem.id%7D%27%29%22%20title%3D%22Delete%20Prediction%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ci%20class%3D%22fas%20fa-times%20text-%5B0.7rem%5D%22%3E%3C/i%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29.join%28%27%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20updateUI%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20displayPeriod%20%3D%20%22-%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28currentAIPrediction%20%26%26%20currentAIPrediction.fullPeriod%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20displayPeriod%20%3D%20currentAIPrediction.fullPeriod.slice%28-3%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28lastAPIFetchedPeriodFull%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20displayPeriod%20%3D%20%28BigInt%28lastAPIFetchedPeriodFull%29%20+%201n%29.toString%28%29.slice%28-3%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20latestAnyItem%20%3D%20allHistory.find%28item%20%3D%3E%20item.fullPeriod%20%7C%7C%20item.period%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28latestAnyItem%20%26%26%20latestAnyItem.fullPeriod%29%20displayPeriod%20%3D%20latestAnyItem.fullPeriod.slice%28-3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28latestAnyItem%20%26%26%20latestAnyItem.period%29%20displayPeriod%20%3D%20latestAnyItem.period%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28currentPeriodEl%29%20currentPeriodEl.textContent%20%3D%20displayPeriod%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28currentPredictionEl%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28currentAIPrediction%20%26%26%20currentAIPrediction.status%20%3D%3D%3D%20%22SKIPPED%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentPredictionEl.innerHTML%20%3D%20%60%3Ci%20class%3D%22fas%20fa-ban%20mr-1%20opacity-70%20text-sm%22%3E%3C/i%3E%20SKIPPED%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28activeLogicDisplayEl%29%20activeLogicDisplayEl.textContent%20%3D%20currentAIPrediction.skipReason%20%7C%7C%20%22Trend%20Unstable%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28currentAIPrediction%20%26%26%20currentAIPrediction.status%20%3D%3D%3D%20%22Pending%22%20%26%26%20%28currentAIPrediction.prediction%20%3D%3D%3D%20%22BIG%22%20%7C%7C%20currentAIPrediction.prediction%20%3D%3D%3D%20%22SMALL%22%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20confVal%20%3D%20typeof%20currentAIPrediction.confidence%20%3D%3D%3D%20%27number%27%20%3F%20currentAIPrediction.confidence%20%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentPredictionEl.innerHTML%20%3D%20%60%3Ci%20class%3D%22fas%20fa-magic%20mr-1%20opacity-70%20text-sm%22%3E%3C/i%3E%20%24%7BcurrentAIPrediction.prediction%7D%20%3Cspan%20class%3D%22text-xs%20opacity-80%22%3E%28%24%7B%28confVal%20*%20100%29.toFixed%280%29%7D%25%29%3C/span%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28activeLogicDisplayEl%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20displayLogic%20%3D%20%22Ensemble%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28currentAIPrediction.logic%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28currentAIPrediction.logic.toLowerCase%28%29.includes%28%22flip%22%29%20%7C%7C%20currentAIPrediction.logic.toLowerCase%28%29.includes%28%22extlvl%22%29%20%7C%7C%20currentAIPrediction.logic.toLowerCase%28%29.includes%28%22over%22%29%29%20displayLogic%20%3D%20%22Level%20Adjust%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28currentAIPrediction.logic.toLowerCase%28%29.includes%28%22ens%28%22%29%29%20displayLogic%20%3D%20%22Ensemble%20V6%22%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20activeLogicDisplayEl.textContent%20%3D%20displayLogic%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentPredictionEl.innerHTML%20%3D%20%60%3Ci%20class%3D%22fas%20fa-hourglass-start%20mr-1%20opacity-70%20text-sm%22%3E%3C/i%3E%20Wait...%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28activeLogicDisplayEl%29%20activeLogicDisplayEl.textContent%20%3D%20%27N/A%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20latestResolvedItem%20%3D%20allHistory.find%28p%20%3D%3E%20p.status%20%3D%3D%3D%20%22WIN%22%20%7C%7C%20p.status%20%3D%3D%3D%20%22LOSS%22%20%7C%7C%20%28p.status%20%3D%3D%3D%20%22API_RESULT_ONLY%22%20%26%26%20p.result%20%21%3D%3D%20null%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28currentResultEl%20%26%26%20latestResolvedItem%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentResultEl.textContent%20%3D%20%60%24%7BlatestResolvedItem.result%20%21%3D%3D%20null%20%3F%20latestResolvedItem.result%20%3A%20%27%27%7D%20%28%24%7BlatestResolvedItem.resultType%20%7C%7C%20%27%27%7D%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28resultIconEl%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28latestResolvedItem.status%20%3D%3D%3D%20%27WIN%27%29%20resultIconEl.innerHTML%20%3D%20%27%3Ci%20class%3D%22fas%20fa-trophy%20text-yellow-300%22%3E%3C/i%3E%27%3B%20//%20Example%20color%2C%20adjust%20for%20theme%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28latestResolvedItem.status%20%3D%3D%3D%20%27LOSS%27%29%20resultIconEl.innerHTML%20%3D%20%27%3Ci%20class%3D%22fas%20fa-heart-crack%20text-red-300%22%3E%3C/i%3E%27%3B%20//%20Example%20color%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28latestResolvedItem.status%20%3D%3D%3D%20%27API_RESULT_ONLY%27%29%20resultIconEl.innerHTML%20%3D%20%27%3Ci%20class%3D%22fas%20fa-receipt%20text-indigo-300%22%3E%3C/i%3E%27%3B%20%20//%20Example%20color%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20resultIconEl.innerHTML%20%3D%20%27%3Ci%20class%3D%22fas%20fa-spinner%20fa-spin%22%3E%3C/i%3E%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28currentResultEl%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentResultEl.textContent%20%3D%20%22-%22%3B%20if%20%28resultIconEl%29%20resultIconEl.innerHTML%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20stats%20%3D%20calculateOverallStats%28allHistory%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28winRateEl%29%20winRateEl.textContent%20%3D%20%60%24%7Bstats.winRate%7D%25%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28totalWinBetsEl%29%20totalWinBetsEl.textContent%20%3D%20stats.totalWins%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28totalLossBetsEl%29%20totalLossBetsEl.textContent%20%3D%20stats.totalLosses%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28localWinLevelDisplayEl%29%20localWinLevelDisplayEl.textContent%20%3D%20localWinLevel%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20freqHistory%20%3D%20allHistory.filter%28p%20%3D%3E%20p.status%20%21%3D%3D%20%22Pending%22%20%26%26%20p.status%20%21%3D%3D%20%22SKIPPED%22%20%26%26%20p.resultType%29.map%28p%20%3D%3E%20p.resultType%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20%7BmostFrequent%2C%20leastFrequent%7D%20%3D%20getFrequencyStats%28freqHistory%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28mostFrequentEl%29%20mostFrequentEl.textContent%20%3D%20mostFrequent%20%7C%7C%20%27-%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28leastFrequentEl%29%20leastFrequentEl.textContent%20%3D%20leastFrequent%20%7C%7C%20%27-%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20renderHistory%28%29%3B%20%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20calculateOverallStats%28history%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20aiPredictionsResolved%20%3D%20history.filter%28p%20%3D%3E%20%28p.status%20%3D%3D%3D%20%22WIN%22%20%7C%7C%20p.status%20%3D%3D%3D%20%22LOSS%22%29%20%26%26%20p.prediction%20%26%26%20%28p.prediction%20%3D%3D%3D%20%22BIG%22%20%7C%7C%20p.prediction%20%3D%3D%3D%20%22SMALL%22%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20wins%20%3D%20aiPredictionsResolved.filter%28p%20%3D%3E%20p.status%20%3D%3D%3D%20%22WIN%22%29.length%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20losses%20%3D%20aiPredictionsResolved.filter%28p%20%3D%3E%20p.status%20%3D%3D%3D%20%22LOSS%22%29.length%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20total%20%3D%20wins%20+%20losses%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20winRate%20%3D%20total%20%3E%200%20%3F%20%28%28wins%20/%20total%29%20*%20100%29.toFixed%281%29%20%3A%20%220.0%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%20winRate%2C%20totalWins%3A%20wins%2C%20totalLosses%3A%20losses%2C%20totalCompleted%3A%20total%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20getFrequencyStats%28items%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21items%20%7C%7C%20items.length%20%3D%3D%3D%200%29%20return%20%7B%20mostFrequent%3A%20null%2C%20leastFrequent%3A%20null%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20frequencyMap%20%3D%20items.reduce%28%28acc%2C%20val%29%20%3D%3E%20%7B%20acc%5Bval%5D%20%3D%20%28acc%5Bval%5D%20%7C%7C%200%29%20+%201%3B%20return%20acc%3B%20%7D%2C%20%7B%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20sortedFrequencies%20%3D%20Object.entries%28frequencyMap%29.sort%28%28%5B%2Ca%5D%2C%5B%2Cb%5D%29%20%3D%3E%20b-a%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mostFrequent%3A%20sortedFrequencies.length%20%3E%200%20%3F%20sortedFrequencies%5B0%5D%5B0%5D%20%3A%20null%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20leastFrequent%3A%20sortedFrequencies.length%20%3E%200%20%3F%20sortedFrequencies%5BsortedFrequencies.length%20-%201%5D%5B0%5D%20%3A%20null%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20handleDeletePrediction%28itemId%29%20%7B%20//%20This%20will%20only%20affect%20the%20local%20view%20until%20next%20Firebase%20sync%20or%20if%20save%20is%20triggered%0A%20%20%20%20%20%20%20%20%20%20%20%20allHistory%20%3D%20allHistory.filter%28p%20%3D%3E%20p.id%20%21%3D%3D%20itemId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28currentAIPrediction%20%26%26%20currentAIPrediction.id%20%3D%3D%3D%20itemId%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentAIPrediction%20%3D%20null%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20saveAllDataToFirebase%28%29%3B%20//%20Save%20changes%20to%20Firebase%20immediately%0A%20%20%20%20%20%20%20%20%20%20%20%20updateUI%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20handleClearHistory%28%29%20%7B%20clearHistoryModal.style.display%20%3D%20%27block%27%3B%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20async%20function%20confirmClearHistoryAction%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20allHistory%20%3D%20%5B%5D%3B%20currentAIPrediction%20%3D%20null%3B%20localWinLevel%20%3D%200%3B%20lastAPIFetchedPeriodFull%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20moduleEffectiveness%20%3D%20%7B%20Trend%3A%20%7B%20wins%3A%200%2C%20losses%3A%200%2C%20weightMultiplier%3A%201.0%20%7D%2C%20Dominance%3A%20%7B%20wins%3A%200%2C%20losses%3A%200%2C%20weightMultiplier%3A%201.0%20%7D%2C%20Recency%3A%20%7B%20wins%3A%200%2C%20losses%3A%200%2C%20weightMultiplier%3A%201.0%20%7D%2C%20CP%3A%20%7B%20wins%3A%200%2C%20losses%3A%200%2C%20weightMultiplier%3A%201.0%20%7D%2C%20Rhythm%3A%20%7B%20wins%3A%200%2C%20losses%3A%200%2C%20weightMultiplier%3A%201.0%20%7D%2C%20Volatility%3A%20%7B%20wins%3A%200%2C%20losses%3A%200%2C%20weightMultiplier%3A%201.0%20%7D%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Clear%20from%20Firebase%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28currentDeviceId%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20db.ref%28PREDICTOR_DATA_FIREBASE_PATH%20+%20currentDeviceId%29.remove%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22Predictor%20data%20cleared%20from%20Firebase%20for%20device%3A%22%2C%20currentDeviceId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error%28%22Error%20clearing%20predictor%20data%20from%20Firebase%3A%22%2C%20error%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Clear%20any%20related%20local%20storage%20%28though%20primary%20store%20is%20Firebase%20now%29%0A%20%20%20%20%20%20%20%20%20%20%20%20localStorage.removeItem%28APP_STORAGE_PREFIX%20+%20%27lossTriggered_AuraXAI%27%29%3B%20//%20Ensure%20keys%20are%20specific%0A%20%20%20%20%20%20%20%20%20%20%20%20localStorage.removeItem%28APP_STORAGE_PREFIX%20+%20%27winTriggered_AuraXAI%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20updateUI%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20clearHistoryModal.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20checkSpecialConditions%28%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28localStorage.getItem%28APP_STORAGE_PREFIX%20+%20%27lossTriggered_AuraXAI%27%29%20%3D%3D%3D%20%27true%27%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20ourResolvedPredictions%20%3D%20allHistory.filter%28p%20%3D%3E%20%28p.status%20%3D%3D%3D%20%22WIN%22%20%7C%7C%20p.status%20%3D%3D%3D%20%22LOSS%22%29%20%26%26%20p.prediction%29.slice%280%2C5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28ourResolvedPredictions.length%20%3D%3D%3D%205%20%26%26%20ourResolvedPredictions.every%28p%20%3D%3E%20p.status%20%3D%3D%3D%20%22LOSS%22%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localStorage.setItem%28APP_STORAGE_PREFIX%20+%20%27lossTriggered_AuraXAI%27%2C%20%27true%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showGlobalMessage%28%60AURA%20X%20AI%3A%205%20consecutive%20losses.%20Contact%20@AURAI1.%60%2C%20true%2C%2010000%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28localStorage.getItem%28APP_STORAGE_PREFIX%20+%20%27winTriggered_AuraXAI%27%29%20%3D%3D%3D%20%27true%27%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20%7B%20winRate%2C%20totalCompleted%20%7D%20%3D%20calculateOverallStats%28allHistory%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28totalCompleted%20%3E%3D%2015%20%26%26%20parseFloat%28winRate%29%20%3E%3D%2060%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28winRatePopup%29%20winRatePopup.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localStorage.setItem%28APP_STORAGE_PREFIX%20+%20%27winTriggered_AuraXAI%27%2C%20%27true%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20//%20---%20Initialization%20---%0A%20%20%20%20%20%20%20%20async%20function%20initializePredictorApp%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20fetchPredictorServerStatus%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20fetchGlobalMessage%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20await%20loadPredictorDataFromFirebase%28%29%3B%20//%20Load%20data%20first%0A%20%20%20%20%20%20%20%20%20%20%20%20setupFirebasePredictorDataListener%28%29%3B%20//%20Then%20setup%20listener%20for%20real-time%20updates%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20updateUI%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20updateGameData%28%29%3B%20//%20Fetch%20initial%20game%20data%20which%20might%20update%20state%20and%20save%20to%20Firebase%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20lastActiveTab%20%3D%20localStorage.getItem%28APP_STORAGE_PREFIX%20+%20%27active_tab%27%29%3B%20//%20Non-synced%20preference%0A%20%20%20%20%20%20%20%20%20%20%20%20switchPage%28lastActiveTab%20%7C%7C%20%27main%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20setInterval%28updateGameData%2C%20API_FETCH_INTERVAL%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20async%20function%20checkInitialApprovalAndNavigate%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20currentDeviceId%20%3D%20getOrGenerateUserDeviceId%28%29%3B%20//%20Ensure%20device%20ID%20is%20available%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20storedUsername%20%3D%20localStorage.getItem%28TELEGRAM_USERNAME_STORAGE_KEY%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20snapshot%20%3D%20await%20db.ref%28%60user_access_requests/%24%7BcurrentDeviceId%7D/status%60%29.once%28%27value%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20status%20%3D%20snapshot.val%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28status%20%3D%3D%3D%20%27approved%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22Device%20already%20approved.%20Navigating%20to%20predictor.%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20handleSuccessfulApproval%28%29%3B%20//%20This%20sets%20PREDICTOR_LOGGED_IN_KEY%20and%20navigates%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28status%20%3D%3D%3D%20%27rejected%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22Device%20access%20rejected.%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showScreen%28%27loginPage2%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateApprovalStatusUI%28%27rejected%27%2C%20%27Access%20previously%20denied.%20Contact%20admin.%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localStorage.removeItem%28PREDICTOR_LOGGED_IN_KEY%29%3B%20//%20Ensure%20logged%20out%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%20//%20%27pending%27%2C%20null%2C%20or%20other%20status%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28storedUsername%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22Username%20found%2C%20device%20status%20is%20pending%20or%20unknown.%20Showing%20device%20ID%20page.%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20telegramUsernameInput.value%20%3D%20storedUsername%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showScreen%28%27loginPage2%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateApprovalStatusUI%28status%20%7C%7C%20%27pending%27%29%3B%20//%20Show%20current%20or%20default%20to%20pending%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20startApprovalCheck%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log%28%22New%20user%20or%20no%20stored%20username.%20Showing%20username%20input%20page.%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showScreen%28%27loginPage1%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localStorage.removeItem%28PREDICTOR_LOGGED_IN_KEY%29%3B%20//%20Ensure%20logged%20out%20if%20not%20approved%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28error%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error%28%22Error%20during%20initial%20approval%20check%3A%22%2C%20error%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20Fallback%20to%20standard%20flow%20if%20Firebase%20check%20fails%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28storedUsername%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showScreen%28%27loginPage2%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateApprovalStatusUI%28%27info%27%2C%20%27Error%20checking%20status.%20Please%20wait%20or%20contact%20admin.%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showScreen%28%27loginPage1%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localStorage.removeItem%28PREDICTOR_LOGGED_IN_KEY%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%0A%20%20%20%20%20%20%20%20document.addEventListener%28%27DOMContentLoaded%27%2C%20function%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20savedTheme%20%3D%20localStorage.getItem%28APP_THEME_STORAGE_KEY%29%20%7C%7C%20%27light%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20applyTheme%28savedTheme%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28submitUsernameBtn%29%20submitUsernameBtn.addEventListener%28%27click%27%2C%20handleSubmitUsername%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28copyDeviceIdBtn%29%20copyDeviceIdBtn.addEventListener%28%27click%27%2C%20copyCurrentDeviceId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28logoutFromDevicePageBtn%29%20logoutFromDevicePageBtn.addEventListener%28%27click%27%2C%20handleLogout%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28predictorLogoutBtn%29%20predictorLogoutBtn.addEventListener%28%27click%27%2C%20handleLogout%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20pageButtons.forEach%28button%20%3D%3E%20button.addEventListener%28%27click%27%2C%20%28%29%20%3D%3E%20switchPage%28button.dataset.page%29%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28clearHistoryBtn%29%20clearHistoryBtn.addEventListener%28%27click%27%2C%20handleClearHistory%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28confirmClearBtn%29%20confirmClearBtn.addEventListener%28%27click%27%2C%20confirmClearHistoryAction%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28cancelClearBtn%29%20cancelClearBtn.addEventListener%28%27click%27%2C%20%28%29%20%3D%3E%20clearHistoryModal.style.display%20%3D%20%27none%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28closeWinPopupBtn%29%20closeWinPopupBtn.addEventListener%28%27click%27%2C%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20winRatePopup.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localStorage.setItem%28APP_STORAGE_PREFIX%20+%20%27winTriggered_AuraXAI%27%2C%20%27true%27%29%3B%20//%20Acknowledge%20popup%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20checkInitialApprovalAndNavigate%28%29%3B%20//%20New%20initial%20check%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A"));
//-->
</script>
